<!DOCTYPE html>
<html devsite="">
  <head>
    <meta name="project_path" value="/go/docs/reference/_project.yaml">
    <meta name="book_path" value="/go/docs/reference/cloud.google.com/go/storage/latest/_book.yaml">
  </head>
  <body>
    {% verbatim %}
    <div>
      <article data-uid="cloud.google.com/go/storage">
<h1 class="page-title">Cloud Storage (GCS) - Package cloud.google.com/go/storage (v1.51.0)</h1>
  
  <aside class="note">
    <strong>Note:</strong> To get more information about this package, such as access to older versions, view <a href="https://pkg.go.dev/cloud.google.com/go/storage" class="external">this package on pkg.go.dev</a>.
  </aside>
  <div class="markdown level0 summary"><p><p>Package storage provides an easy way to work with Google Cloud Storage.
Google Cloud Storage stores data in named objects, which are grouped into buckets.
<p>More information about Google Cloud Storage is available at
<a href="https://cloud.google.com/storage/docs">https://cloud.google.com/storage/docs</a>.
<p>See <a href="https://pkg.go.dev/cloud.google.com/go">https://pkg.go.dev/cloud.google.com/go</a> for authentication, timeouts,
connection pooling and similar aspects of this package.
<h2 id="hdr-Creating_a_Client">Creating a Client</h2>
<p>To start working with this package, create a <a href="#Client">Client</a>:</p>
<pre class="prettyprint">ctx := context.Background()
client, err := storage.NewClient(ctx)
if err != nil {
    // TODO: Handle error.
}
</pre>
<p><p>The client will use your default application credentials. Clients should be
reused instead of created as needed. The methods of <a href="#Client">Client</a> are safe for
concurrent use by multiple goroutines.
<p>You may configure the client by passing in options from the <a href="https://pkg.go.dev/google.golang.org/api/option">google.golang.org/api/option</a>
package. You may also use options defined in this package, such as <a href="#WithJSONReads">WithJSONReads</a>.
<p>If you only wish to access public data, you can create
an unauthenticated client with</p>
<pre class="prettyprint">client, err := storage.NewClient(ctx, option.WithoutAuthentication())
</pre>
<p><p>To use an emulator with this library, you can set the STORAGE_EMULATOR_HOST
environment variable to the address at which your emulator is running. This will
send requests to that address instead of to Cloud Storage. You can then create
and use a client as usual:</p>
<pre class="prettyprint">// Set STORAGE_EMULATOR_HOST environment variable.
err := os.Setenv(&quot;STORAGE_EMULATOR_HOST&quot;, &quot;localhost:9000&quot;)
if err != nil {
    // TODO: Handle error.
}

// Create client as usual.
client, err := storage.NewClient(ctx)
if err != nil {
    // TODO: Handle error.
}

// This request is now directed to http://localhost:9000/storage/v1/b
// instead of https://storage.googleapis.com/storage/v1/b
if err := client.Bucket(&quot;my-bucket&quot;).Create(ctx, projectID, nil); err != nil {
    // TODO: Handle error.
}
</pre>
<p><p>Please note that there is no official emulator for Cloud Storage.
<h2 id="hdr-Buckets">Buckets</h2>
<p>A Google Cloud Storage bucket is a collection of objects. To work with a
bucket, make a bucket handle:</p>
<pre class="prettyprint">bkt := client.Bucket(bucketName)
</pre>
<p><p>A handle is a reference to a bucket. You can have a handle even if the
bucket doesn&apos;t exist yet. To create a bucket in Google Cloud Storage,
call <a href="#BucketHandle.Create">BucketHandle.Create</a>:</p>
<pre class="prettyprint">if err := bkt.Create(ctx, projectID, nil); err != nil {
    // TODO: Handle error.
}
</pre>
<p><p>Note that although buckets are associated with projects, bucket names are
global across all projects.
<p>Each bucket has associated metadata, represented in this package by
<a href="#BucketAttrs">BucketAttrs</a>. The third argument to <a href="#BucketHandle.Create">BucketHandle.Create</a> allows you to set
the initial <a href="#BucketAttrs">BucketAttrs</a> of a bucket. To retrieve a bucket&apos;s attributes, use
<a href="#BucketHandle.Attrs">BucketHandle.Attrs</a>:</p>
<pre class="prettyprint">attrs, err := bkt.Attrs(ctx)
if err != nil {
    // TODO: Handle error.
}
fmt.Printf(&quot;bucket %s, created at %s, is located in %s with storage class %s\n&quot;,
    attrs.Name, attrs.Created, attrs.Location, attrs.StorageClass)
</pre>
<p><h2 id="hdr-Objects">Objects</h2>
<p>An object holds arbitrary data as a sequence of bytes, like a file. You
refer to objects using a handle, just as with buckets, but unlike buckets
you don&apos;t explicitly create an object. Instead, the first time you write
to an object it will be created. You can use the standard Go <a href="https://pkg.go.dev/io#Reader">io.Reader</a>
and <a href="https://pkg.go.dev/io#Writer">io.Writer</a> interfaces to read and write object data:</p>
<pre class="prettyprint">obj := bkt.Object(&quot;data&quot;)
// Write something to obj.
// w implements io.Writer.
w := obj.NewWriter(ctx)
// Write some text to obj. This will either create the object or overwrite whatever is there already.
if _, err := fmt.Fprintf(w, &quot;This object contains text.\n&quot;); err != nil {
    // TODO: Handle error.
}
// Close, just like writing a file.
if err := w.Close(); err != nil {
    // TODO: Handle error.
}

// Read it back.
r, err := obj.NewReader(ctx)
if err != nil {
    // TODO: Handle error.
}
defer r.Close()
if _, err := io.Copy(os.Stdout, r); err != nil {
    // TODO: Handle error.
}
// Prints &quot;This object contains text.&quot;
</pre>
<p><p>Objects also have attributes, which you can fetch with <a href="#ObjectHandle.Attrs">ObjectHandle.Attrs</a>:</p>
<pre class="prettyprint">objAttrs, err := obj.Attrs(ctx)
if err != nil {
    // TODO: Handle error.
}
fmt.Printf(&quot;object %s has size %d and can be read using %s\n&quot;,
    objAttrs.Name, objAttrs.Size, objAttrs.MediaLink)
</pre>
<p><h2 id="hdr-Listing_objects">Listing objects</h2>
<p>Listing objects in a bucket is done with the <a href="#BucketHandle.Objects">BucketHandle.Objects</a> method:</p>
<pre class="prettyprint">query := &amp;storage.Query{Prefix: &quot;&quot;}

var names []string
it := bkt.Objects(ctx, query)
for {
    attrs, err := it.Next()
    if err == iterator.Done {
        break
    }
    if err != nil {
        log.Fatal(err)
    }
    names = append(names, attrs.Name)
}
</pre>
<p><p>Objects are listed lexicographically by name. To filter objects
lexicographically, [Query.StartOffset] and/or [Query.EndOffset] can be used:</p>
<pre class="prettyprint">query := &amp;storage.Query{
    Prefix: &quot;&quot;,
    StartOffset: &quot;bar/&quot;,  // Only list objects lexicographically &gt;= &quot;bar/&quot;
    EndOffset: &quot;foo/&quot;,    // Only list objects lexicographically &lt; &quot;foo/&quot;
}

// ... as before
</pre>
<p><p>If only a subset of object attributes is needed when listing, specifying this
subset using <a href="#Query.SetAttrSelection">Query.SetAttrSelection</a> may speed up the listing process:</p>
<pre class="prettyprint">query := &amp;storage.Query{Prefix: &quot;&quot;}
query.SetAttrSelection([]string{&quot;Name&quot;})

// ... as before
</pre>
<p><h2 id="hdr-ACLs">ACLs</h2>
<p>Both objects and buckets have ACLs (Access Control Lists). An ACL is a list of
ACLRules, each of which specifies the role of a user, group or project. ACLs
are suitable for fine-grained control, but you may prefer using IAM to control
access at the project level (see <a href="https://cloud.google.com/storage/docs/access-control/iam">Cloud Storage IAM docs</a>.
<p>To list the ACLs of a bucket or object, obtain an <a href="#ACLHandle">ACLHandle</a> and call <a href="#ACLHandle.List">ACLHandle.List</a>:</p>
<pre class="prettyprint">acls, err := obj.ACL().List(ctx)
if err != nil {
    // TODO: Handle error.
}
for _, rule := range acls {
    fmt.Printf(&quot;%s has role %s\n&quot;, rule.Entity, rule.Role)
}
</pre>
<p><p>You can also set and delete ACLs.
<h2 id="hdr-Conditions">Conditions</h2>
<p>Every object has a generation and a metageneration. The generation changes
whenever the content changes, and the metageneration changes whenever the
metadata changes. <a href="#Conditions">Conditions</a> let you check these values before an operation;
the operation only executes if the conditions match. You can use conditions to
prevent race conditions in read-modify-write operations.
<p>For example, say you&apos;ve read an object&apos;s metadata into objAttrs. Now
you want to write to that object, but only if its contents haven&apos;t changed
since you read it. Here is how to express that:</p>
<pre class="prettyprint">w = obj.If(storage.Conditions{GenerationMatch: objAttrs.Generation}).NewWriter(ctx)
// Proceed with writing as above.
</pre>
<p><h2 id="hdr-Signed_URLs">Signed URLs</h2>
<p>You can obtain a URL that lets anyone read or write an object for a limited time.
Signing a URL requires credentials authorized to sign a URL. To use the same
authentication that was used when instantiating the Storage client, use
<a href="#BucketHandle.SignedURL">BucketHandle.SignedURL</a>.</p>
<pre class="prettyprint">url, err := client.Bucket(bucketName).SignedURL(objectName, opts)
if err != nil {
    // TODO: Handle error.
}
fmt.Println(url)
</pre>
<p><p>You can also sign a URL without creating a client. See the documentation of
<a href="#SignedURL">SignedURL</a> for details.</p>
<pre class="prettyprint">url, err := storage.SignedURL(bucketName, &quot;shared-object&quot;, opts)
if err != nil {
    // TODO: Handle error.
}
fmt.Println(url)
</pre>
<p><h2 id="hdr-Post_Policy_V4_Signed_Request">Post Policy V4 Signed Request</h2>
<p>A type of signed request that allows uploads through HTML forms directly to Cloud Storage with
temporary permission. Conditions can be applied to restrict how the HTML form is used and exercised
by a user.
<p>For more information, please see the <a href="https://cloud.google.com/storage/docs/xml-api/post-object">XML POST Object docs</a> as well
as the documentation of <a href="#BucketHandle.GenerateSignedPostPolicyV4">BucketHandle.GenerateSignedPostPolicyV4</a>.</p>
<pre class="prettyprint">pv4, err := client.Bucket(bucketName).GenerateSignedPostPolicyV4(objectName, opts)
if err != nil {
    // TODO: Handle error.
}
fmt.Printf(&quot;URL: %s\nFields; %v\n&quot;, pv4.URL, pv4.Fields)
</pre>
<p><h2 id="hdr-Credential_requirements_for_signing">Credential requirements for signing</h2>
<p>If the GoogleAccessID and PrivateKey option fields are not provided, they will
be automatically detected by <a href="#BucketHandle.SignedURL">BucketHandle.SignedURL</a> and
<a href="#BucketHandle.GenerateSignedPostPolicyV4">BucketHandle.GenerateSignedPostPolicyV4</a> if any of the following are true:
<ul>
<li>you are authenticated to the Storage Client with a service account&apos;s
downloaded private key, either directly in code or by setting the
GOOGLE_APPLICATION_CREDENTIALS environment variable (see <a href="https://cloud.google.com/storage/docs/authentication#libauth">Other Environments</a>),
<li>your application is running on Google Compute Engine (GCE), or
<li>you are logged into <a href="https://cloud.google.com/sdk/gcloud/reference/auth/application-default/login">gcloud using application default credentials</a>
with <a href="https://cloud.google.com/sdk/gcloud/reference#--impersonate-service-account">impersonation enabled</a>.
</li></li></li></ul>
<p>Detecting GoogleAccessID may not be possible if you are authenticated using a
token source or using <a href="https://pkg.go.dev/google.golang.org/api/option#WithHTTPClient">option.WithHTTPClient</a>. In this case, you can provide a
service account email for GoogleAccessID and the client will attempt to sign
the URL or Post Policy using that service account.
<p>To generate the signature, you must have:
<ul>
<li>iam.serviceAccounts.signBlob permissions on the GoogleAccessID service
account, and
<li>the <a href="https://console.developers.google.com/apis/api/iamcredentials.googleapis.com/overview">IAM Service Account Credentials API</a> enabled (unless authenticating
with a downloaded private key).
</li></li></ul>
<h2 id="hdr-Errors">Errors</h2>
<p>Errors returned by this client are often of the type <a href="https://pkg.go.dev/google.golang.org/api/googleapi#Error">googleapi.Error</a>.
These errors can be introspected for more information by using <a href="https://pkg.go.dev/errors#As">errors.As</a>
with the richer <a href="https://pkg.go.dev/google.golang.org/api/googleapi#Error">googleapi.Error</a> type. For example:</p>
<pre class="prettyprint">var e &#42;googleapi.Error
if ok := errors.As(err, &amp;e); ok {
      if e.Code == 409 { ... }
}
</pre>
<p><h2 id="hdr-Retrying_failed_requests">Retrying failed requests</h2>
<p>Methods in this package may retry calls that fail with transient errors.
Retrying continues indefinitely unless the controlling context is canceled, the
client is closed, or a non-transient error is received. To stop retries from
continuing, use context timeouts or cancellation.
<p>The retry strategy in this library follows best practices for Cloud Storage. By
default, operations are retried only if they are idempotent, and exponential
backoff with jitter is employed. In addition, errors are only retried if they
are defined as transient by the service. See the <a href="https://cloud.google.com/storage/docs/retry-strategy">Cloud Storage retry docs</a>
for more information.
<p>Users can configure non-default retry behavior for a single library call (using
<a href="#BucketHandle.Retryer">BucketHandle.Retryer</a> and <a href="#ObjectHandle.Retryer">ObjectHandle.Retryer</a>) or for all calls made by a
client (using <a href="#Client.SetRetry">Client.SetRetry</a>). For example:</p>
<pre class="prettyprint">o := client.Bucket(bucket).Object(object).Retryer(
    // Use WithBackoff to change the timing of the exponential backoff.
    storage.WithBackoff(gax.Backoff{
        Initial:    2 &#42; time.Second,
    }),
    // Use WithPolicy to configure the idempotency policy. RetryAlways will
    // retry the operation even if it is non-idempotent.
    storage.WithPolicy(storage.RetryAlways),
)

// Use a context timeout to set an overall deadline on the call, including all
// potential retries.
ctx, cancel := context.WithTimeout(ctx, 5&#42;time.Second)
defer cancel()

// Delete an object using the specified strategy and timeout.
if err := o.Delete(ctx); err != nil {
    // Handle err.
}
</pre>
<p><h2 id="hdr-Sending_Custom_Headers">Sending Custom Headers</h2>
<p>You can add custom headers to any API call made by this package by using
<a href="https://pkg.go.dev/github.com/googleapis/gax-go/v2/callctx#SetHeaders">callctx.SetHeaders</a> on the context which is passed to the method. For example,
to add a <a href="https://cloud.google.com/storage/docs/audit-logging#add-custom-metadata">custom audit logging</a> header:</p>
<pre class="prettyprint">ctx := context.Background()
ctx = callctx.SetHeaders(ctx, &quot;x-goog-custom-audit-&lt;key&gt;&quot;, &quot;&lt;value&gt;&quot;)
// Use client as usual with the context and the additional headers will be sent.
client.Bucket(&quot;my-bucket&quot;).Attrs(ctx)
</pre>
<p><h2 id="hdr-gRPC_API">gRPC API</h2>
<p>This package includes support for the Cloud Storage gRPC API. The
implementation uses gRPC rather than the Default
JSON &amp; XML APIs to make requests to Cloud Storage.
The Go Storage gRPC client is generally available.
The Notifications, Serivce Account HMAC
and GetServiceAccount RPCs are not supported through the gRPC client.
<p>To create a client which will use gRPC, use the alternate constructor:</p>
<pre class="prettyprint">ctx := context.Background()
client, err := storage.NewGRPCClient(ctx)
if err != nil {
    // TODO: Handle error.
}
// Use client as usual.
</pre>
<p><p>Using the gRPC API inside GCP with a bucket in the same region can allow for
<a href="https://cloud.google.com/vpc-service-controls/docs/set-up-private-connectivity#direct-connectivity">Direct Connectivity</a> (enabling requests to skip some proxy steps and reducing
response latency). A warning is emmitted if gRPC is not used within GCP to
warn that Direct Connectivity could not be initialized. Direct Connectivity
is not required to access the gRPC API.
<p>Dependencies for the gRPC API may slightly increase the size of binaries for
applications depending on this package. If you are not using gRPC, you can use
the build tag <code>disable_grpc_modules</code> to opt out of these dependencies and
reduce the binary size.
<p>The gRPC client emits metrics by default and will export the
gRPC telemetry discussed in <a href="https://github.com/grpc/proposal/blob/master/A66-otel-stats.md">gRFC/66</a> and <a href="https://github.com/grpc/proposal/blob/master/A78-grpc-metrics-wrr-pf-xds.md">gRFC/78</a> to
<a href="https://cloud.google.com/monitoring/docs">Google Cloud Monitoring</a>. The metrics are accessible through Cloud Monitoring
API and you incur no additional cost for publishing the metrics. Google Cloud
Support can use this information to more quickly diagnose problems related to
GCS and gRPC.
Sending this data does not incur any billing charges, and requires minimal
CPU (a single RPC every minute) or memory (a few KiB to batch the
telemetry).
<p>To access the metrics you can view them through Cloud Monitoring
<a href="https://console.cloud.google.com/projectselector/monitoring/metrics-explorer">metric explorer</a> with the prefix <code>storage.googleapis.com/client</code>. Metrics are emitted
every minute.
<p>You can disable metrics using the following example when creating a new gRPC
client using <a href="#WithDisabledClientMetrics">WithDisabledClientMetrics</a>.
<p>The metrics exporter uses Cloud Monitoring API which determines
project ID and credentials doing the following:
<p>&#42; Project ID is determined using OTel Resource Detector for the environment
otherwise it falls back to the project provided by <a href="https://pkg.go.dev/golang.org/x/oauth2/google#FindDefaultCredentials">google.FindCredentials</a>.
<p>&#42; Credentials are determined using <a href="https://cloud.google.com/docs/authentication/application-default-credentials">Application Default Credentials</a>. The
principal must have <code>roles/monitoring.metricWriter</code> role granted. If not a
logged warning will be emitted. Subsequent are silenced to prevent noisy logs.
<h2 id="hdr-Storage_Control_API">Storage Control API</h2>
<p>Certain control plane and long-running operations for Cloud Storage (including Folder
and Managed Folder operations) are supported via the autogenerated Storage Control
client, which is available as a subpackage in this module. See package docs at
<a href="https://pkg.go.dev/cloud.google.com/go/storage/control/apiv2">cloud.google.com/go/storage/control/apiv2</a> or reference the <a href="https://cloud.google.com/storage/docs/reference/rpc/google.storage.control.v2">Storage Control API</a> docs.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="markdown level0 remarks"></div>
    <h2 id="consts">
  Constants
  </h2>
        <h3 id="cloud_google_com_go_storage_DeleteAction_SetStorageClassAction_AbortIncompleteMPUAction" data-uid="cloud.google.com/go/storage.DeleteAction,SetStorageClassAction,AbortIncompleteMPUAction" class="notranslate">DeleteAction, SetStorageClassAction, AbortIncompleteMPUAction</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>const (

	// DeleteAction is a lifecycle action that deletes a live and/or archived
	// objects. Takes precedence over SetStorageClass actions.
	DeleteAction = "Delete"

	// SetStorageClassAction changes the storage class of live and/or archived
	// objects.
	SetStorageClassAction = "SetStorageClass"

	// AbortIncompleteMPUAction is a lifecycle action that aborts an incomplete
	// multipart upload when the multipart upload meets the conditions specified
	// in the lifecycle rule. The AgeInDays condition is the only allowed
	// condition for this action. AgeInDays is measured from the time the
	// multipart upload was created.
	AbortIncompleteMPUAction = "AbortIncompleteMultipartUpload"
)</code></pre>
        </div>
        <div class="markdown level1 summary"></div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_NoPayload_JSONPayload" data-uid="cloud.google.com/go/storage.NoPayload,JSONPayload" class="notranslate">NoPayload, JSONPayload</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>const (
	// Send no payload with notification messages.
	NoPayload = "NONE"

	// Send object metadata as JSON with notification messages.
	JSONPayload = "JSON_API_V1"
)</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Values for Notification.PayloadFormat.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_ObjectFinalizeEvent_ObjectMetadataUpdateEvent_ObjectDeleteEvent_ObjectArchiveEvent" data-uid="cloud.google.com/go/storage.ObjectFinalizeEvent,ObjectMetadataUpdateEvent,ObjectDeleteEvent,ObjectArchiveEvent" class="notranslate">ObjectFinalizeEvent, ObjectMetadataUpdateEvent, ObjectDeleteEvent, ObjectArchiveEvent</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>const (
	// Event that occurs when an object is successfully created.
	ObjectFinalizeEvent = "OBJECT_FINALIZE"

	// Event that occurs when the metadata of an existing object changes.
	ObjectMetadataUpdateEvent = "OBJECT_METADATA_UPDATE"

	// Event that occurs when an object is permanently deleted.
	ObjectDeleteEvent = "OBJECT_DELETE"

	// Event that occurs when the live version of an object becomes an
	// archived version.
	ObjectArchiveEvent = "OBJECT_ARCHIVE"
)</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Values for Notification.EventTypes.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_ScopeFullControl_ScopeReadOnly_ScopeReadWrite" data-uid="cloud.google.com/go/storage.ScopeFullControl,ScopeReadOnly,ScopeReadWrite" class="notranslate">ScopeFullControl, ScopeReadOnly, ScopeReadWrite</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>const (
	// ScopeFullControl grants permissions to manage your
	// data and permissions in Google Cloud Storage.
	ScopeFullControl = <a href="https://pkg.go.dev/google.golang.org/api/storage/v1">raw</a>.<a href="https://pkg.go.dev/google.golang.org/api/storage/v1#DevstorageFullControlScope">DevstorageFullControlScope</a>

	// ScopeReadOnly grants permissions to
	// view your data in Google Cloud Storage.
	ScopeReadOnly = <a href="https://pkg.go.dev/google.golang.org/api/storage/v1">raw</a>.<a href="https://pkg.go.dev/google.golang.org/api/storage/v1#DevstorageReadOnlyScope">DevstorageReadOnlyScope</a>

	// ScopeReadWrite grants permissions to manage your
	// data in Google Cloud Storage.
	ScopeReadWrite = <a href="https://pkg.go.dev/google.golang.org/api/storage/v1">raw</a>.<a href="https://pkg.go.dev/google.golang.org/api/storage/v1#DevstorageReadWriteScope">DevstorageReadWriteScope</a>
)</code></pre>
        </div>
        <div class="markdown level1 summary"></div>
        <div class="markdown level1 conceptual"></div>
        
    <h2 id="variables">Variables
  
  </h2>
        <h3 id="cloud_google_com_go_storage_ErrBucketNotExist_ErrObjectNotExist" data-uid="cloud.google.com/go/storage.ErrBucketNotExist,ErrObjectNotExist" class="notranslate">ErrBucketNotExist, ErrObjectNotExist</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>var (
	// ErrBucketNotExist indicates that the bucket does not exist. It should be
	// checked for using [errors.Is] instead of direct equality.
	ErrBucketNotExist = <a href="https://pkg.go.dev/errors">errors</a>.<a href="https://pkg.go.dev/errors#New">New</a>("storage: bucket doesn't exist")
	// ErrObjectNotExist indicates that the object does not exist. It should be
	// checked for using [errors.Is] instead of direct equality.
	ErrObjectNotExist = <a href="https://pkg.go.dev/errors">errors</a>.<a href="https://pkg.go.dev/errors#New">New</a>("storage: object doesn't exist")
)</code></pre>
        </div>
        <div class="markdown level1 summary"></div>
        <div class="markdown level1 conceptual"></div>
        
    <h2 id="functions">Functions
  
  </h2>
        <h3 id="cloud_google_com_go_storage_CheckDirectConnectivitySupported" data-uid="cloud.google.com/go/storage.CheckDirectConnectivitySupported" class="notranslate">func CheckDirectConnectivitySupported
</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>func CheckDirectConnectivitySupported(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, bucket <a href="https://pkg.go.dev/builtin#string">string</a>, opts ...<a href="https://pkg.go.dev/google.golang.org/api/option">option</a>.<a href="https://pkg.go.dev/google.golang.org/api/option#ClientOption">ClientOption</a>) <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>CheckDirectConnectivitySupported checks if gRPC direct connectivity
is available for a specific bucket from the environment where the client
is running. A <code>nil</code> error represents Direct Connectivity was detected.
Direct connectivity is expected to be available when running from inside
GCP and connecting to a bucket in the same region.</p>
<p>Experimental helper that&#39;s subject to change.</p>
<p>You can pass in [option.ClientOption] you plan on passing to [NewGRPCClient]</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_ShouldRetry" data-uid="cloud.google.com/go/storage.ShouldRetry" class="notranslate">func ShouldRetry
</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>func ShouldRetry(err <a href="https://pkg.go.dev/builtin#error">error</a>) <a href="https://pkg.go.dev/builtin#bool">bool</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>ShouldRetry returns true if an error is retryable, based on best practice
guidance from GCS. See
<a href="https://cloud.google.com/storage/docs/retry-strategy#go">https://cloud.google.com/storage/docs/retry-strategy#go</a> for more information
on what errors are considered retryable.</p>
<p>If you would like to customize retryable errors, use the WithErrorFunc to
supply a RetryOption to your library calls. For example, to retry additional
errors, you can write a custom func that wraps ShouldRetry and also specifies
additional errors that should return true.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_SignedURL" data-uid="cloud.google.com/go/storage.SignedURL" class="notranslate">func SignedURL
</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>func SignedURL(bucket, object <a href="https://pkg.go.dev/builtin#string">string</a>, opts *<a href="#cloud_google_com_go_storage_SignedURLOptions">SignedURLOptions</a>) (<a href="https://pkg.go.dev/builtin#string">string</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
        </div>
        <div class="markdown level1 summary"><p>SignedURL returns a URL for the specified object. Signed URLs allow anyone
access to a restricted resource for a limited time without needing a
Google account or signing in. For more information about signed URLs, see
<a href="https://cloud.google.com/storage/docs/accesscontrol#signed_urls_query_string_authentication">https://cloud.google.com/storage/docs/accesscontrol#signed_urls_query_string_authentication</a>
If initializing a Storage Client, instead use the Bucket.SignedURL method
which uses the Client&#39;s credentials to handle authentication.</p>
</div>
        <div class="markdown level1 conceptual"></div>
          <h4>Example</h4>
        <div class="codewrapper">
        <pre class="prettyprint"><code>package main

import (
	&quot;fmt&quot;
	&quot;io/ioutil&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	pkey, err := ioutil.ReadFile(&quot;my-private-key.pem&quot;)
	if err != nil {
		// TODO: handle error.
	}
	url, err := storage.SignedURL(&quot;my-bucket&quot;, &quot;my-object&quot;, &amp;storage.SignedURLOptions{
		GoogleAccessID: &quot;xxx@developer.gserviceaccount.com&quot;,
		PrivateKey:     pkey,
		Method:         &quot;GET&quot;,
		Expires:        time.Now().Add(48 * time.Hour),
	})
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(url)
}
</code></pre>
        </div>
  
        <h3 id="cloud_google_com_go_storage_WithDisabledClientMetrics" data-uid="cloud.google.com/go/storage.WithDisabledClientMetrics" class="notranslate">func WithDisabledClientMetrics
</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>func WithDisabledClientMetrics() <a href="https://pkg.go.dev/google.golang.org/api/option">option</a>.<a href="https://pkg.go.dev/google.golang.org/api/option#ClientOption">ClientOption</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>WithDisabledClientMetrics is an option that may be passed to [NewClient].
gRPC metrics are enabled by default in the GCS client and will export the
gRPC telemetry discussed in <a href="https://github.com/grpc/proposal/blob/master/A66-otel-stats.md">gRFC/66</a> and <a href="https://github.com/grpc/proposal/blob/master/A78-grpc-metrics-wrr-pf-xds.md">gRFC/78</a> to
<a href="https://cloud.google.com/monitoring/docs">Google Cloud Monitoring</a>. The option is used to disable metrics.
Google Cloud Support can use this information to more quickly diagnose
problems related to GCS and gRPC.
Sending this data does not incur any billing charges, and requires minimal
CPU (a single RPC every few minutes) or memory (a few KiB to batch the
telemetry).</p>
<p>The default is to enable client metrics. To opt-out of metrics collected use
this option.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_WithJSONReads" data-uid="cloud.google.com/go/storage.WithJSONReads" class="notranslate">func WithJSONReads
</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>func WithJSONReads() <a href="https://pkg.go.dev/google.golang.org/api/option">option</a>.<a href="https://pkg.go.dev/google.golang.org/api/option#ClientOption">ClientOption</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>WithJSONReads is an option that may be passed to [NewClient].
It sets the client to use the Cloud Storage JSON API for object
reads. Currently, the default API used for reads is XML, but JSON will
become the default in a future release.</p>
<p>Setting this option is required to use the GenerationNotMatch condition. We
also recommend using JSON reads to ensure consistency with other client
operations (all of which use JSON by default).</p>
<p>Note that when this option is set, reads will return a zero date for
[ReaderObjectAttrs].LastModified and may return a different value for
[ReaderObjectAttrs].CacheControl.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h3 id="cloud_google_com_go_storage_WithXMLReads" data-uid="cloud.google.com/go/storage.WithXMLReads" class="notranslate">func WithXMLReads
</h3>
        <div class="codewrapper">
          <pre class="prettyprint"><code>func WithXMLReads() <a href="https://pkg.go.dev/google.golang.org/api/option">option</a>.<a href="https://pkg.go.dev/google.golang.org/api/option#ClientOption">ClientOption</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>WithXMLReads is an option that may be passed to [NewClient].
It sets the client to use the Cloud Storage XML API for object reads.</p>
<p>This is the current default, but the default will switch to JSON in a future
release.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_ACLEntity" data-uid="cloud.google.com/go/storage.ACLEntity" class="notranslate">ACLEntity</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ACLEntity <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>ACLEntity refers to a user or group.
They are sometimes referred to as grantees.</p>
<p>It could be in the form of:
&quot;user-<userid>&quot;, &quot;user-<email>&quot;, &quot;group-<groupid>&quot;, &quot;group-<email>&quot;,
&quot;domain-<domain>&quot; and &quot;project-team-<projectid>&quot;.<p>
<p>Or one of the predefined constants: AllUsers, AllAuthenticatedUsers.</p>
</projectid></domain></email></groupid></email></userid></div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_AllUsers_AllAuthenticatedUsers" data-uid="cloud.google.com/go/storage.AllUsers,AllAuthenticatedUsers" class="notranslate">AllUsers, AllAuthenticatedUsers</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	AllUsers              <a href="#cloud_google_com_go_storage_ACLEntity">ACLEntity</a> = "allUsers"
	AllAuthenticatedUsers <a href="#cloud_google_com_go_storage_ACLEntity">ACLEntity</a> = "allAuthenticatedUsers"
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_ACLHandle" data-uid="cloud.google.com/go/storage.ACLHandle" class="notranslate">ACLHandle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ACLHandle struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ACLHandle provides operations on an access control list for a Google Cloud Storage bucket or object.
ACLHandle on an object operates on the latest generation of that object by default.
Selecting a specific generation of an object is not currently supported by the client.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_ACLHandle_Delete" data-uid="cloud.google.com/go/storage.ACLHandle.Delete" class="notranslate">func (*ACLHandle) Delete
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (a *<a href="#cloud_google_com_go_storage_ACLHandle">ACLHandle</a>) Delete(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, entity <a href="#cloud_google_com_go_storage_ACLEntity">ACLEntity</a>) (err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Delete permanently deletes the ACL entry for the given entity.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// No longer grant access to the bucket to everyone on the Internet.
	if err := client.Bucket(&quot;my-bucket&quot;).ACL().Delete(ctx, storage.AllUsers); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ACLHandle_List" data-uid="cloud.google.com/go/storage.ACLHandle.List" class="notranslate">func (*ACLHandle) List
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (a *<a href="#cloud_google_com_go_storage_ACLHandle">ACLHandle</a>) List(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (rules []<a href="#cloud_google_com_go_storage_ACLRule">ACLRule</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>List retrieves ACL entries.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// List the default object ACLs for my-bucket.
	aclRules, err := client.Bucket(&quot;my-bucket&quot;).DefaultObjectACL().List(ctx)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(aclRules)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ACLHandle_Set" data-uid="cloud.google.com/go/storage.ACLHandle.Set" class="notranslate">func (*ACLHandle) Set
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (a *<a href="#cloud_google_com_go_storage_ACLHandle">ACLHandle</a>) Set(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, entity <a href="#cloud_google_com_go_storage_ACLEntity">ACLEntity</a>, role <a href="#cloud_google_com_go_storage_ACLRole">ACLRole</a>) (err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Set sets the role for the given entity.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Let any authenticated user read my-bucket/my-object.
	obj := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;)
	if err := obj.ACL().Set(ctx, storage.AllAuthenticatedUsers, storage.RoleReader); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
        <h2 id="cloud_google_com_go_storage_ACLRole" data-uid="cloud.google.com/go/storage.ACLRole" class="notranslate">ACLRole</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ACLRole <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>ACLRole is the level of access to grant.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_RoleOwner_RoleReader_RoleWriter" data-uid="cloud.google.com/go/storage.RoleOwner,RoleReader,RoleWriter" class="notranslate">RoleOwner, RoleReader, RoleWriter</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	RoleOwner  <a href="#cloud_google_com_go_storage_ACLRole">ACLRole</a> = "OWNER"
	RoleReader <a href="#cloud_google_com_go_storage_ACLRole">ACLRole</a> = "READER"
	RoleWriter <a href="#cloud_google_com_go_storage_ACLRole">ACLRole</a> = "WRITER"
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_ACLRule" data-uid="cloud.google.com/go/storage.ACLRule" class="notranslate">ACLRule</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ACLRule struct {
	Entity      <a href="#cloud_google_com_go_storage_ACLEntity">ACLEntity</a>
	EntityID    <a href="https://pkg.go.dev/builtin#string">string</a>
	Role        <a href="#cloud_google_com_go_storage_ACLRole">ACLRole</a>
	Domain      <a href="https://pkg.go.dev/builtin#string">string</a>
	Email       <a href="https://pkg.go.dev/builtin#string">string</a>
	ProjectTeam *<a href="#cloud_google_com_go_storage_ProjectTeam">ProjectTeam</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ACLRule represents a grant for a role to an entity (user, group or team) for a
Google Cloud Storage object or bucket.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Autoclass" data-uid="cloud.google.com/go/storage.Autoclass" class="notranslate">Autoclass</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Autoclass struct {
	// Enabled specifies whether the autoclass feature is enabled
	// on the bucket.
	Enabled <a href="https://pkg.go.dev/builtin#bool">bool</a>
	// ToggleTime is the time from which Autoclass was last toggled.
	// If Autoclass is enabled when the bucket is created, the ToggleTime
	// is set to the bucket creation time. This field is read-only.
	ToggleTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>
	// TerminalStorageClass: The storage class that objects in the bucket
	// eventually transition to if they are not read for a certain length of
	// time. Valid values are NEARLINE and ARCHIVE.
	// To modify TerminalStorageClass, Enabled must be set to true.
	TerminalStorageClass <a href="https://pkg.go.dev/builtin#string">string</a>
	// TerminalStorageClassUpdateTime represents the time of the most recent
	// update to "TerminalStorageClass".
	TerminalStorageClassUpdateTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Autoclass holds the bucket&#39;s autoclass configuration. If enabled,
allows for the automatic selection of the best storage class
based on object access patterns. See
<a href="https://cloud.google.com/storage/docs/using-autoclass">https://cloud.google.com/storage/docs/using-autoclass</a> for more information.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_BucketAttrs" data-uid="cloud.google.com/go/storage.BucketAttrs" class="notranslate">BucketAttrs</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketAttrs struct {
	// Name is the name of the bucket.
	// This field is read-only.
	Name <a href="https://pkg.go.dev/builtin#string">string</a>

	// ACL is the list of access control rules on the bucket.
	ACL []<a href="#cloud_google_com_go_storage_ACLRule">ACLRule</a>

	// BucketPolicyOnly is an alias for UniformBucketLevelAccess. Use of
	// UniformBucketLevelAccess is recommended above the use of this field.
	// Setting BucketPolicyOnly.Enabled OR UniformBucketLevelAccess.Enabled to
	// true, will enable UniformBucketLevelAccess.
	BucketPolicyOnly <a href="#cloud_google_com_go_storage_BucketPolicyOnly">BucketPolicyOnly</a>

	// UniformBucketLevelAccess configures access checks to use only bucket-level IAM
	// policies and ignore any ACL rules for the bucket.
	// See https://cloud.google.com/storage/docs/uniform-bucket-level-access
	// for more information.
	UniformBucketLevelAccess <a href="#cloud_google_com_go_storage_UniformBucketLevelAccess">UniformBucketLevelAccess</a>

	// PublicAccessPrevention is the setting for the bucket's
	// PublicAccessPrevention policy, which can be used to prevent public access
	// of data in the bucket. See
	// https://cloud.google.com/storage/docs/public-access-prevention for more
	// information.
	PublicAccessPrevention <a href="#cloud_google_com_go_storage_PublicAccessPrevention">PublicAccessPrevention</a>

	// DefaultObjectACL is the list of access controls to
	// apply to new objects when no object ACL is provided.
	DefaultObjectACL []<a href="#cloud_google_com_go_storage_ACLRule">ACLRule</a>

	// DefaultEventBasedHold is the default value for event-based hold on
	// newly created objects in this bucket. It defaults to false.
	DefaultEventBasedHold <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// If not empty, applies a predefined set of access controls. It should be set
	// only when creating a bucket.
	// It is always empty for BucketAttrs returned from the service.
	// See https://cloud.google.com/storage/docs/json_api/v1/buckets/insert
	// for valid values.
	PredefinedACL <a href="https://pkg.go.dev/builtin#string">string</a>

	// If not empty, applies a predefined set of default object access controls.
	// It should be set only when creating a bucket.
	// It is always empty for BucketAttrs returned from the service.
	// See https://cloud.google.com/storage/docs/json_api/v1/buckets/insert
	// for valid values.
	PredefinedDefaultObjectACL <a href="https://pkg.go.dev/builtin#string">string</a>

	// Location is the location of the bucket. It defaults to "US".
	// If specifying a dual-region, CustomPlacementConfig should be set in conjunction.
	Location <a href="https://pkg.go.dev/builtin#string">string</a>

	// The bucket's custom placement configuration that holds a list of
	// regional locations for custom dual regions.
	CustomPlacementConfig *<a href="#cloud_google_com_go_storage_CustomPlacementConfig">CustomPlacementConfig</a>

	// MetaGeneration is the metadata generation of the bucket.
	// This field is read-only.
	MetaGeneration <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// StorageClass is the default storage class of the bucket. This defines
	// how objects in the bucket are stored and determines the SLA
	// and the cost of storage. Typical values are "STANDARD", "NEARLINE",
	// "COLDLINE" and "ARCHIVE". Defaults to "STANDARD".
	// See https://cloud.google.com/storage/docs/storage-classes for all
	// valid values.
	StorageClass <a href="https://pkg.go.dev/builtin#string">string</a>

	// Created is the creation time of the bucket.
	// This field is read-only.
	Created <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// Updated is the time at which the bucket was last modified.
	// This field is read-only.
	Updated <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// VersioningEnabled reports whether this bucket has versioning enabled.
	VersioningEnabled <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// Labels are the bucket's labels.
	Labels map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a>

	// RequesterPays reports whether the bucket is a Requester Pays bucket.
	// Clients performing operations on Requester Pays buckets must provide
	// a user project (see BucketHandle.UserProject), which will be billed
	// for the operations.
	RequesterPays <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// Lifecycle is the lifecycle configuration for objects in the bucket.
	Lifecycle <a href="#cloud_google_com_go_storage_Lifecycle">Lifecycle</a>

	// Retention policy enforces a minimum retention time for all objects
	// contained in the bucket. A RetentionPolicy of nil implies the bucket
	// has no minimum data retention.
	//
	// This feature is in private alpha release. It is not currently available to
	// most customers. It might be changed in backwards-incompatible ways and is not
	// subject to any SLA or deprecation policy.
	RetentionPolicy *<a href="#cloud_google_com_go_storage_RetentionPolicy">RetentionPolicy</a>

	// The bucket's Cross-Origin Resource Sharing (CORS) configuration.
	CORS []<a href="#cloud_google_com_go_storage_CORS">CORS</a>

	// The encryption configuration used by default for newly inserted objects.
	Encryption *<a href="#cloud_google_com_go_storage_BucketEncryption">BucketEncryption</a>

	// The logging configuration.
	Logging *<a href="#cloud_google_com_go_storage_BucketLogging">BucketLogging</a>

	// The website configuration.
	Website *<a href="#cloud_google_com_go_storage_BucketWebsite">BucketWebsite</a>

	// Etag is the HTTP/1.1 Entity tag for the bucket.
	// This field is read-only.
	Etag <a href="https://pkg.go.dev/builtin#string">string</a>

	// LocationType describes how data is stored and replicated.
	// Typical values are "multi-region", "region" and "dual-region".
	// This field is read-only.
	LocationType <a href="https://pkg.go.dev/builtin#string">string</a>

	// The project number of the project the bucket belongs to.
	// This field is read-only.
	ProjectNumber <a href="https://pkg.go.dev/builtin#uint64">uint64</a>

	// RPO configures the Recovery Point Objective (RPO) policy of the bucket.
	// Set to RPOAsyncTurbo to turn on Turbo Replication for a bucket.
	// See https://cloud.google.com/storage/docs/managing-turbo-replication for
	// more information.
	RPO <a href="#cloud_google_com_go_storage_RPO">RPO</a>

	// Autoclass holds the bucket's autoclass configuration. If enabled,
	// allows for the automatic selection of the best storage class
	// based on object access patterns.
	Autoclass *<a href="#cloud_google_com_go_storage_Autoclass">Autoclass</a>

	// ObjectRetentionMode reports whether individual objects in the bucket can
	// be configured with a retention policy. An empty value means that object
	// retention is disabled.
	// This field is read-only. Object retention can be enabled only by creating
	// a bucket with SetObjectRetention set to true on the BucketHandle. It
	// cannot be modified once the bucket is created.
	// ObjectRetention cannot be configured or reported through the gRPC API.
	ObjectRetentionMode <a href="https://pkg.go.dev/builtin#string">string</a>

	// SoftDeletePolicy contains the bucket's soft delete policy, which defines
	// the period of time that soft-deleted objects will be retained, and cannot
	// be permanently deleted. By default, new buckets will be created with a
	// 7 day retention duration. In order to fully disable soft delete, you need
	// to set a policy with a RetentionDuration of 0.
	SoftDeletePolicy *<a href="#cloud_google_com_go_storage_SoftDeletePolicy">SoftDeletePolicy</a>

	// HierarchicalNamespace contains the bucket's hierarchical namespace
	// configuration. Hierarchical namespace enabled buckets can contain
	// [cloud.google.com/go/storage/control/apiv2/controlpb.Folder] resources.
	// It cannot be modified after bucket creation time.
	// UniformBucketLevelAccess must also also be enabled on the bucket.
	HierarchicalNamespace *<a href="#cloud_google_com_go_storage_HierarchicalNamespace">HierarchicalNamespace</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketAttrs represents the metadata for a Google Cloud Storage bucket.
Read-only fields are ignored by BucketHandle.Create.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_BucketAttrsToUpdate" data-uid="cloud.google.com/go/storage.BucketAttrsToUpdate" class="notranslate">BucketAttrsToUpdate</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketAttrsToUpdate struct {
	// If set, updates whether the bucket uses versioning.
	VersioningEnabled <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#Bool">Bool</a>

	// If set, updates whether the bucket is a Requester Pays bucket.
	RequesterPays <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#Bool">Bool</a>

	// DefaultEventBasedHold is the default value for event-based hold on
	// newly created objects in this bucket.
	DefaultEventBasedHold <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#Bool">Bool</a>

	// BucketPolicyOnly is an alias for UniformBucketLevelAccess. Use of
	// UniformBucketLevelAccess is recommended above the use of this field.
	// Setting BucketPolicyOnly.Enabled OR UniformBucketLevelAccess.Enabled to
	// true, will enable UniformBucketLevelAccess. If both BucketPolicyOnly and
	// UniformBucketLevelAccess are set, the value of UniformBucketLevelAccess
	// will take precedence.
	BucketPolicyOnly *<a href="#cloud_google_com_go_storage_BucketPolicyOnly">BucketPolicyOnly</a>

	// UniformBucketLevelAccess configures access checks to use only bucket-level IAM
	// policies and ignore any ACL rules for the bucket.
	// See https://cloud.google.com/storage/docs/uniform-bucket-level-access
	// for more information.
	UniformBucketLevelAccess *<a href="#cloud_google_com_go_storage_UniformBucketLevelAccess">UniformBucketLevelAccess</a>

	// PublicAccessPrevention is the setting for the bucket's
	// PublicAccessPrevention policy, which can be used to prevent public access
	// of data in the bucket. See
	// https://cloud.google.com/storage/docs/public-access-prevention for more
	// information.
	PublicAccessPrevention <a href="#cloud_google_com_go_storage_PublicAccessPrevention">PublicAccessPrevention</a>

	// StorageClass is the default storage class of the bucket. This defines
	// how objects in the bucket are stored and determines the SLA
	// and the cost of storage. Typical values are "STANDARD", "NEARLINE",
	// "COLDLINE" and "ARCHIVE". Defaults to "STANDARD".
	// See https://cloud.google.com/storage/docs/storage-classes for all
	// valid values.
	StorageClass <a href="https://pkg.go.dev/builtin#string">string</a>

	// If set, updates the retention policy of the bucket. Using
	// RetentionPolicy.RetentionPeriod = 0 will delete the existing policy.
	//
	// This feature is in private alpha release. It is not currently available to
	// most customers. It might be changed in backwards-incompatible ways and is not
	// subject to any SLA or deprecation policy.
	RetentionPolicy *<a href="#cloud_google_com_go_storage_RetentionPolicy">RetentionPolicy</a>

	// If set, replaces the CORS configuration with a new configuration.
	// An empty (rather than nil) slice causes all CORS policies to be removed.
	CORS []<a href="#cloud_google_com_go_storage_CORS">CORS</a>

	// If set, replaces the encryption configuration of the bucket. Using
	// BucketEncryption.DefaultKMSKeyName = "" will delete the existing
	// configuration.
	Encryption *<a href="#cloud_google_com_go_storage_BucketEncryption">BucketEncryption</a>

	// If set, replaces the lifecycle configuration of the bucket.
	Lifecycle *<a href="#cloud_google_com_go_storage_Lifecycle">Lifecycle</a>

	// If set, replaces the logging configuration of the bucket.
	Logging *<a href="#cloud_google_com_go_storage_BucketLogging">BucketLogging</a>

	// If set, replaces the website configuration of the bucket.
	Website *<a href="#cloud_google_com_go_storage_BucketWebsite">BucketWebsite</a>

	// If not empty, applies a predefined set of access controls.
	// See https://cloud.google.com/storage/docs/json_api/v1/buckets/patch.
	PredefinedACL <a href="https://pkg.go.dev/builtin#string">string</a>

	// If not empty, applies a predefined set of default object access controls.
	// See https://cloud.google.com/storage/docs/json_api/v1/buckets/patch.
	PredefinedDefaultObjectACL <a href="https://pkg.go.dev/builtin#string">string</a>

	// RPO configures the Recovery Point Objective (RPO) policy of the bucket.
	// Set to RPOAsyncTurbo to turn on Turbo Replication for a bucket.
	// See https://cloud.google.com/storage/docs/managing-turbo-replication for
	// more information.
	RPO <a href="#cloud_google_com_go_storage_RPO">RPO</a>

	// If set, updates the autoclass configuration of the bucket.
	// To disable autoclass on the bucket, set to an empty &Autoclass{}.
	// To update the configuration for Autoclass.TerminalStorageClass,
	// Autoclass.Enabled must also be set to true.
	// See https://cloud.google.com/storage/docs/using-autoclass for more information.
	Autoclass *<a href="#cloud_google_com_go_storage_Autoclass">Autoclass</a>

	// If set, updates the soft delete policy of the bucket.
	SoftDeletePolicy *<a href="#cloud_google_com_go_storage_SoftDeletePolicy">SoftDeletePolicy</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketAttrsToUpdate define the attributes to update during an Update call.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_BucketAttrsToUpdate_DeleteLabel" data-uid="cloud.google.com/go/storage.BucketAttrsToUpdate.DeleteLabel" class="notranslate">func (*BucketAttrsToUpdate) DeleteLabel
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (ua *<a href="#cloud_google_com_go_storage_BucketAttrsToUpdate">BucketAttrsToUpdate</a>) DeleteLabel(name <a href="https://pkg.go.dev/builtin#string">string</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>DeleteLabel causes a label to be deleted when ua is used in a
call to Bucket.Update.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketAttrsToUpdate_SetLabel" data-uid="cloud.google.com/go/storage.BucketAttrsToUpdate.SetLabel" class="notranslate">func (*BucketAttrsToUpdate) SetLabel
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (ua *<a href="#cloud_google_com_go_storage_BucketAttrsToUpdate">BucketAttrsToUpdate</a>) SetLabel(name, value <a href="https://pkg.go.dev/builtin#string">string</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>SetLabel causes a label to be added or modified when ua is used
in a call to Bucket.Update.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_BucketConditions" data-uid="cloud.google.com/go/storage.BucketConditions" class="notranslate">BucketConditions</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketConditions struct {
	// MetagenerationMatch specifies that the bucket must have the given
	// metageneration for the operation to occur.
	// If MetagenerationMatch is zero, it has no effect.
	MetagenerationMatch <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// MetagenerationNotMatch specifies that the bucket must not have the given
	// metageneration for the operation to occur.
	// If MetagenerationNotMatch is zero, it has no effect.
	MetagenerationNotMatch <a href="https://pkg.go.dev/builtin#int64">int64</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketConditions constrain bucket methods to act on specific metagenerations.</p>
<p>The zero value is an empty set of constraints.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_BucketEncryption" data-uid="cloud.google.com/go/storage.BucketEncryption" class="notranslate">BucketEncryption</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketEncryption struct {
	// A Cloud KMS key name, in the form
	// projects/P/locations/L/keyRings/R/cryptoKeys/K, that will be used to encrypt
	// objects inserted into this bucket, if no encryption method is specified.
	// The key's location must be the same as the bucket's.
	DefaultKMSKeyName <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketEncryption is a bucket&#39;s encryption configuration.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_BucketHandle" data-uid="cloud.google.com/go/storage.BucketHandle" class="notranslate">BucketHandle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketHandle struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketHandle provides operations on a Google Cloud Storage bucket.
Use Client.Bucket to get a handle.</p>
</div>
        <div class="markdown level1 conceptual"></div>
          <h3>Example</h3>
          <h4 class="notranslate">exists</h4>
        <div class="codewrapper">
        <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;errors&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	attrs, err := client.Bucket(&quot;my-bucket&quot;).Attrs(ctx)
	if errors.Is(err, storage.ErrBucketNotExist) {
		fmt.Println(&quot;The bucket does not exist&quot;)
		return
	}
	if err != nil {
		// TODO: handle error.
	}
	fmt.Printf(&quot;The bucket exists and has attributes: %#v\n&quot;, attrs)
}
</code></pre>
        </div>
  
            <h3 id="cloud_google_com_go_storage_BucketHandle_ACL" data-uid="cloud.google.com/go/storage.BucketHandle.ACL" class="notranslate">func (*BucketHandle) ACL
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) ACL() *<a href="#cloud_google_com_go_storage_ACLHandle">ACLHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ACL returns an ACLHandle, which provides access to the bucket&#39;s access control list.
This controls who can list, create or overwrite the objects in a bucket.
This call does not perform any network operations.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_AddNotification" data-uid="cloud.google.com/go/storage.BucketHandle.AddNotification" class="notranslate">func (*BucketHandle) AddNotification
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) AddNotification(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, n *<a href="#cloud_google_com_go_storage_Notification">Notification</a>) (ret *<a href="#cloud_google_com_go_storage_Notification">Notification</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>AddNotification adds a notification to b. You must set n&#39;s TopicProjectID, TopicID
and PayloadFormat, and must not set its ID. The other fields are all optional. The
returned Notification&#39;s ID can be used to refer to it.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	b := client.Bucket(&quot;my-bucket&quot;)
	n, err := b.AddNotification(ctx, &amp;storage.Notification{
		TopicProjectID: &quot;my-project&quot;,
		TopicID:        &quot;my-topic&quot;,
		PayloadFormat:  storage.JSONPayload,
	})
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(n.ID)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_Attrs" data-uid="cloud.google.com/go/storage.BucketHandle.Attrs" class="notranslate">func (*BucketHandle) Attrs
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Attrs(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (attrs *<a href="#cloud_google_com_go_storage_BucketAttrs">BucketAttrs</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Attrs returns the metadata for the bucket.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	attrs, err := client.Bucket(&quot;my-bucket&quot;).Attrs(ctx)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(attrs)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_BucketName" data-uid="cloud.google.com/go/storage.BucketHandle.BucketName" class="notranslate">func (*BucketHandle) BucketName
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) BucketName() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>BucketName returns the name of the bucket.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_Create" data-uid="cloud.google.com/go/storage.BucketHandle.Create" class="notranslate">func (*BucketHandle) Create
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Create(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, projectID <a href="https://pkg.go.dev/builtin#string">string</a>, attrs *<a href="#cloud_google_com_go_storage_BucketAttrs">BucketAttrs</a>) (err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Create creates the Bucket in the project.
If attrs is nil the API defaults will be used.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	if err := client.Bucket(&quot;my-bucket&quot;).Create(ctx, &quot;my-project&quot;, nil); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_DefaultObjectACL" data-uid="cloud.google.com/go/storage.BucketHandle.DefaultObjectACL" class="notranslate">func (*BucketHandle) DefaultObjectACL
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) DefaultObjectACL() *<a href="#cloud_google_com_go_storage_ACLHandle">ACLHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>DefaultObjectACL returns an ACLHandle, which provides access to the bucket&#39;s default object ACLs.
These ACLs are applied to newly created objects in this bucket that do not have a defined ACL.
This call does not perform any network operations.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_Delete" data-uid="cloud.google.com/go/storage.BucketHandle.Delete" class="notranslate">func (*BucketHandle) Delete
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Delete(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Delete deletes the Bucket.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	if err := client.Bucket(&quot;my-bucket&quot;).Delete(ctx); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_DeleteNotification" data-uid="cloud.google.com/go/storage.BucketHandle.DeleteNotification" class="notranslate">func (*BucketHandle) DeleteNotification
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) DeleteNotification(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, id <a href="https://pkg.go.dev/builtin#string">string</a>) (err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>DeleteNotification deletes the notification with the given ID.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

var notificationID string

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	b := client.Bucket(&quot;my-bucket&quot;)
	// TODO: Obtain notificationID from BucketHandle.AddNotification
	// or BucketHandle.Notifications.
	err = b.DeleteNotification(ctx, notificationID)
	if err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_GenerateSignedPostPolicyV4" data-uid="cloud.google.com/go/storage.BucketHandle.GenerateSignedPostPolicyV4" class="notranslate">func (*BucketHandle) GenerateSignedPostPolicyV4
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) GenerateSignedPostPolicyV4(object <a href="https://pkg.go.dev/builtin#string">string</a>, opts *<a href="#cloud_google_com_go_storage_PostPolicyV4Options">PostPolicyV4Options</a>) (*<a href="#cloud_google_com_go_storage_PostPolicyV4">PostPolicyV4</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>GenerateSignedPostPolicyV4 generates a PostPolicyV4 value from bucket, object and opts.
The generated URL and fields will then allow an unauthenticated client to perform multipart uploads.</p>
<p>This method requires the Expires field in the specified PostPolicyV4Options
to be non-nil. You may need to set the GoogleAccessID and PrivateKey fields
in some cases. Read more on the <a href="https://pkg.go.dev/cloud.google.com/go/storage#hdr-Credential_requirements_for_signing">automatic detection of credentials</a> for this method.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_IAM" data-uid="cloud.google.com/go/storage.BucketHandle.IAM" class="notranslate">func (*BucketHandle) IAM
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) IAM() *<a href="/go/docs/reference/cloud.google.com/go/iam/latest/">iam</a>.<a href="/go/docs/reference/cloud.google.com/go/iam/latest/#cloud_google_com_go_iam_Handle">Handle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>IAM provides access to IAM access control for the bucket.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_If" data-uid="cloud.google.com/go/storage.BucketHandle.If" class="notranslate">func (*BucketHandle) If
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) If(conds <a href="#cloud_google_com_go_storage_BucketConditions">BucketConditions</a>) *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>If returns a new BucketHandle that applies a set of preconditions.
Preconditions already set on the BucketHandle are ignored. The supplied
BucketConditions must have exactly one field set to a non-zero value;
otherwise an error will be returned from any operation on the BucketHandle.
Operations on the new handle will return an error if the preconditions are not
satisfied. The only valid preconditions for buckets are MetagenerationMatch
and MetagenerationNotMatch.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_LockRetentionPolicy" data-uid="cloud.google.com/go/storage.BucketHandle.LockRetentionPolicy" class="notranslate">func (*BucketHandle) LockRetentionPolicy
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) LockRetentionPolicy(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>LockRetentionPolicy locks a bucket&#39;s retention policy until a previously-configured
RetentionPeriod past the EffectiveTime. Note that if RetentionPeriod is set to less
than a day, the retention policy is treated as a development configuration and locking
will have no effect. The BucketHandle must have a metageneration condition that
matches the bucket&#39;s metageneration. See BucketHandle.If.</p>
<p>This feature is in private alpha release. It is not currently available to
most customers. It might be changed in backwards-incompatible ways and is not
subject to any SLA or deprecation policy.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	b := client.Bucket(&quot;my-bucket&quot;)
	attrs, err := b.Attrs(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Note that locking the bucket without first attaching a RetentionPolicy
	// that's at least 1 day is a no-op
	err = b.If(storage.BucketConditions{MetagenerationMatch: attrs.MetaGeneration}).LockRetentionPolicy(ctx)
	if err != nil {
		// TODO: handle err
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_Notifications" data-uid="cloud.google.com/go/storage.BucketHandle.Notifications" class="notranslate">func (*BucketHandle) Notifications
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Notifications(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (n map[<a href="https://pkg.go.dev/builtin#string">string</a>]*<a href="#cloud_google_com_go_storage_Notification">Notification</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Notifications returns all the Notifications configured for this bucket, as a map
indexed by notification ID.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	b := client.Bucket(&quot;my-bucket&quot;)
	ns, err := b.Notifications(ctx)
	if err != nil {
		// TODO: handle error.
	}
	for id, n := range ns {
		fmt.Printf(&quot;%s: %+v\n&quot;, id, n)
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_Object" data-uid="cloud.google.com/go/storage.BucketHandle.Object" class="notranslate">func (*BucketHandle) Object
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Object(name <a href="https://pkg.go.dev/builtin#string">string</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Object returns an ObjectHandle, which provides operations on the named object.
This call does not perform any network operations such as fetching the object or verifying its existence.
Use methods on ObjectHandle to perform network operations.</p>
<p>name must consist entirely of valid UTF-8-encoded runes. The full specification
for valid object names can be found at:</p>
<pre><code>https://cloud.google.com/storage/docs/naming-objects
</code></pre></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_Objects" data-uid="cloud.google.com/go/storage.BucketHandle.Objects" class="notranslate">func (*BucketHandle) Objects
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Objects(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, q *<a href="#cloud_google_com_go_storage_Query">Query</a>) *<a href="#cloud_google_com_go_storage_ObjectIterator">ObjectIterator</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Objects returns an iterator over the objects in the bucket that match the
Query q. If q is nil, no filtering is done. Objects will be iterated over
lexicographically by name.</p>
<p>Note: The returned iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	it := client.Bucket(&quot;my-bucket&quot;).Objects(ctx, nil)
	_ = it // TODO: iterate using Next or iterator.Pager.
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_Retryer" data-uid="cloud.google.com/go/storage.BucketHandle.Retryer" class="notranslate">func (*BucketHandle) Retryer
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Retryer(opts ...<a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a>) *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Retryer returns a bucket handle that is configured with custom retry
behavior as specified by the options that are passed to it. All operations
on the new handle will use the customized retry configuration.
Retry options set on a object handle will take precedence over options set on
the bucket handle.
These retry options will merge with the client&#39;s retry configuration (if set)
for the returned handle. Options passed into this method will take precedence
over retry options on the client. Note that you must explicitly pass in each
option you want to override.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_SetObjectRetention" data-uid="cloud.google.com/go/storage.BucketHandle.SetObjectRetention" class="notranslate">func (*BucketHandle) SetObjectRetention
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) SetObjectRetention(enable <a href="https://pkg.go.dev/builtin#bool">bool</a>) *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>SetObjectRetention returns a new BucketHandle that will enable object retention
on bucket creation. To enable object retention, you must use the returned
handle to create the bucket. This has no effect on an already existing bucket.
ObjectRetention is not enabled by default.
ObjectRetention cannot be configured through the gRPC API.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_SignedURL" data-uid="cloud.google.com/go/storage.BucketHandle.SignedURL" class="notranslate">func (*BucketHandle) SignedURL
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) SignedURL(object <a href="https://pkg.go.dev/builtin#string">string</a>, opts *<a href="#cloud_google_com_go_storage_SignedURLOptions">SignedURLOptions</a>) (<a href="https://pkg.go.dev/builtin#string">string</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>SignedURL returns a URL for the specified object. Signed URLs allow anyone
access to a restricted resource for a limited time without needing a Google
account or signing in.
For more information about signed URLs, see &quot;<a href="https://cloud.google.com/storage/docs/accesscontrol#signed_urls_query_string_authentication">Overview of access control</a>.&quot;</p>
<p>This method requires the Method and Expires fields in the specified
SignedURLOptions to be non-nil. You may need to set the GoogleAccessID and
PrivateKey fields in some cases. Read more on the <a href="https://pkg.go.dev/cloud.google.com/go/storage#hdr-Credential_requirements_for_signing">automatic detection of credentials</a>
for this method.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_BucketHandle_Update" data-uid="cloud.google.com/go/storage.BucketHandle.Update" class="notranslate">func (*BucketHandle) Update
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) Update(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, uattrs <a href="#cloud_google_com_go_storage_BucketAttrsToUpdate">BucketAttrsToUpdate</a>) (attrs *<a href="#cloud_google_com_go_storage_BucketAttrs">BucketAttrs</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Update updates a bucket&#39;s attributes.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Enable versioning in the bucket, regardless of its previous value.
	attrs, err := client.Bucket(&quot;my-bucket&quot;).Update(ctx,
		storage.BucketAttrsToUpdate{VersioningEnabled: true})
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(attrs)
}
</code></pre>
  </div>
    <h5 class="notranslate">readModifyWrite</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	b := client.Bucket(&quot;my-bucket&quot;)
	attrs, err := b.Attrs(ctx)
	if err != nil {
		// TODO: handle error.
	}
	var au storage.BucketAttrsToUpdate
	au.SetLabel(&quot;lab&quot;, attrs.Labels[&quot;lab&quot;]+&quot;-more&quot;)
	if attrs.Labels[&quot;delete-me&quot;] == &quot;yes&quot; {
		au.DeleteLabel(&quot;delete-me&quot;)
	}
	attrs, err = b.
		If(storage.BucketConditions{MetagenerationMatch: attrs.MetaGeneration}).
		Update(ctx, au)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(attrs)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketHandle_UserProject" data-uid="cloud.google.com/go/storage.BucketHandle.UserProject" class="notranslate">func (*BucketHandle) UserProject
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (b *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a>) UserProject(projectID <a href="https://pkg.go.dev/builtin#string">string</a>) *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>UserProject returns a new BucketHandle that passes the project ID as the user
project for all subsequent calls. Calls with a user project will be billed to that
project rather than to the bucket&#39;s owning project.</p>
<p>A user project is required for all operations on Requester Pays buckets.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_BucketIterator" data-uid="cloud.google.com/go/storage.BucketIterator" class="notranslate">BucketIterator</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketIterator struct {
	// Prefix restricts the iterator to buckets whose names begin with it.
	Prefix <a href="https://pkg.go.dev/builtin#string">string</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>A BucketIterator is an iterator over BucketAttrs.</p>
<p>Note: This iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_BucketIterator_Next" data-uid="cloud.google.com/go/storage.BucketIterator.Next" class="notranslate">func (*BucketIterator) Next
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (it *<a href="#cloud_google_com_go_storage_BucketIterator">BucketIterator</a>) Next() (*<a href="#cloud_google_com_go_storage_BucketAttrs">BucketAttrs</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Next returns the next result. Its second return value is iterator.Done if
there are no more results. Once Next returns iterator.Done, all subsequent
calls will return iterator.Done.</p>
<p>Note: This method is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/iterator&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	it := client.Buckets(ctx, &quot;my-project&quot;)
	for {
		bucketAttrs, err := it.Next()
		if err == iterator.Done {
			break
		}
		if err != nil {
			// TODO: Handle error.
		}
		fmt.Println(bucketAttrs)
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_BucketIterator_PageInfo" data-uid="cloud.google.com/go/storage.BucketIterator.PageInfo" class="notranslate">func (*BucketIterator) PageInfo
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (it *<a href="#cloud_google_com_go_storage_BucketIterator">BucketIterator</a>) PageInfo() *<a href="https://pkg.go.dev/google.golang.org/api/iterator">iterator</a>.<a href="https://pkg.go.dev/google.golang.org/api/iterator#PageInfo">PageInfo</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>PageInfo supports pagination. See the google.golang.org/api/iterator package for details.</p>
<p>Note: This method is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_BucketLogging" data-uid="cloud.google.com/go/storage.BucketLogging" class="notranslate">BucketLogging</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketLogging struct {
	// The destination bucket where the current bucket's logs
	// should be placed.
	LogBucket <a href="https://pkg.go.dev/builtin#string">string</a>

	// A prefix for log object names.
	LogObjectPrefix <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketLogging holds the bucket&#39;s logging configuration, which defines the
destination bucket and optional name prefix for the current bucket&#39;s
logs.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_BucketPolicyOnly" data-uid="cloud.google.com/go/storage.BucketPolicyOnly" class="notranslate">BucketPolicyOnly</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketPolicyOnly struct {
	// Enabled specifies whether access checks use only bucket-level IAM
	// policies. Enabled may be disabled until the locked time.
	Enabled <a href="https://pkg.go.dev/builtin#bool">bool</a>
	// LockedTime specifies the deadline for changing Enabled from true to
	// false.
	LockedTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketPolicyOnly is an alias for UniformBucketLevelAccess.
Use of UniformBucketLevelAccess is preferred above BucketPolicyOnly.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_BucketWebsite" data-uid="cloud.google.com/go/storage.BucketWebsite" class="notranslate">BucketWebsite</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type BucketWebsite struct {
	// If the requested object path is missing, the service will ensure the path has
	// a trailing '/', append this suffix, and attempt to retrieve the resulting
	// object. This allows the creation of index.html objects to represent directory
	// pages.
	MainPageSuffix <a href="https://pkg.go.dev/builtin#string">string</a>

	// If the requested object path is missing, and any mainPageSuffix object is
	// missing, if applicable, the service will return the named object from this
	// bucket as the content for a 404 Not Found result.
	NotFoundPage <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>BucketWebsite holds the bucket&#39;s website configuration, controlling how the
service behaves when accessing bucket contents as a web site. See
<a href="https://cloud.google.com/storage/docs/static-website">https://cloud.google.com/storage/docs/static-website</a> for more information.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_CORS" data-uid="cloud.google.com/go/storage.CORS" class="notranslate">CORS</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type CORS struct {
	// MaxAge is the value to return in the Access-Control-Max-Age
	// header used in preflight responses.
	MaxAge <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Duration">Duration</a>

	// Methods is the list of HTTP methods on which to include CORS response
	// headers, (GET, OPTIONS, POST, etc) Note: "*" is permitted in the list
	// of methods, and means "any method".
	Methods []<a href="https://pkg.go.dev/builtin#string">string</a>

	// Origins is the list of Origins eligible to receive CORS response
	// headers. Note: "*" is permitted in the list of origins, and means
	// "any Origin".
	Origins []<a href="https://pkg.go.dev/builtin#string">string</a>

	// ResponseHeaders is the list of HTTP headers other than the simple
	// response headers to give permission for the user-agent to share
	// across domains.
	ResponseHeaders []<a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>CORS is the bucket&#39;s Cross-Origin Resource Sharing (CORS) configuration.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Client" data-uid="cloud.google.com/go/storage.Client" class="notranslate">Client</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Client struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Client is a client for interacting with Google Cloud Storage.</p>
<p>Clients should be reused instead of created as needed.
The methods of Client are safe for concurrent use by multiple goroutines.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Client_NewClient" data-uid="cloud.google.com/go/storage.Client.NewClient" class="notranslate">func NewClient
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func NewClient(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, opts ...<a href="https://pkg.go.dev/google.golang.org/api/option">option</a>.<a href="https://pkg.go.dev/google.golang.org/api/option#ClientOption">ClientOption</a>) (*<a href="#cloud_google_com_go_storage_Client">Client</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>NewClient creates a new Google Cloud Storage client using the HTTP transport.
The default scope is ScopeFullControl. To use a different scope, like
ScopeReadOnly, use option.WithScopes.</p>
<p>Clients should be reused instead of created as needed. The methods of Client
are safe for concurrent use by multiple goroutines.</p>
<p>You may configure the client by passing in options from the [google.golang.org/api/option]
package. You may also use options defined in this package, such as [WithJSONReads].</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	// Use Google Application Default Credentials to authorize and authenticate the client.
	// More information about Application Default Credentials and how to enable is at
	// https://developers.google.com/identity/protocols/application-default-credentials.
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Use the client.

	// Close the client when finished.
	if err := client.Close(); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
    <h5 class="notranslate">unauthenticated</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/option&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx, option.WithoutAuthentication())
	if err != nil {
		// TODO: handle error.
	}
	// Use the client.

	// Close the client when finished.
	if err := client.Close(); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_Client_NewGRPCClient" data-uid="cloud.google.com/go/storage.Client.NewGRPCClient" class="notranslate">func NewGRPCClient
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func NewGRPCClient(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, opts ...<a href="https://pkg.go.dev/google.golang.org/api/option">option</a>.<a href="https://pkg.go.dev/google.golang.org/api/option#ClientOption">ClientOption</a>) (*<a href="#cloud_google_com_go_storage_Client">Client</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>NewGRPCClient creates a new Storage client using the gRPC transport and API.
Client methods which have not been implemented in gRPC will return an error.
In particular, methods for Cloud Pub/Sub notifications, Service Account HMAC
keys, and ServiceAccount are not supported.
Using a non-default universe domain is also not supported with the Storage
gRPC client.</p>
<p>Clients should be reused instead of created as needed. The methods of Client
are safe for concurrent use by multiple goroutines.</p>
<p>You may configure the client by passing in options from the [google.golang.org/api/option]
package.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Client_Bucket" data-uid="cloud.google.com/go/storage.Client.Bucket" class="notranslate">func (*Client) Bucket
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) Bucket(name <a href="https://pkg.go.dev/builtin#string">string</a>) *<a href="#cloud_google_com_go_storage_BucketHandle">BucketHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Bucket returns a BucketHandle, which provides operations on the named bucket.
This call does not perform any network operations.</p>
<p>The supplied name must contain only lowercase letters, numbers, dashes,
underscores, and dots. The full specification for valid bucket names can be
found at:</p>
<pre><code>https://cloud.google.com/storage/docs/bucket-naming
</code></pre></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Client_Buckets" data-uid="cloud.google.com/go/storage.Client.Buckets" class="notranslate">func (*Client) Buckets
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) Buckets(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, projectID <a href="https://pkg.go.dev/builtin#string">string</a>) *<a href="#cloud_google_com_go_storage_BucketIterator">BucketIterator</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Buckets returns an iterator over the buckets in the project. You may
optionally set the iterator&#39;s Prefix field to restrict the list to buckets
whose names begin with the prefix. By default, all buckets in the project
are returned.</p>
<p>Note: The returned iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	it := client.Buckets(ctx, &quot;my-project&quot;)
	_ = it // TODO: iterate using Next or iterator.Pager.
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_Client_Close" data-uid="cloud.google.com/go/storage.Client.Close" class="notranslate">func (*Client) Close
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) Close() <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Close closes the Client.</p>
<p>Close need not be called at program exit.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Client_CreateHMACKey" data-uid="cloud.google.com/go/storage.Client.CreateHMACKey" class="notranslate">func (*Client) CreateHMACKey
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) CreateHMACKey(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, projectID, serviceAccountEmail <a href="https://pkg.go.dev/builtin#string">string</a>, opts ...<a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a>) (*<a href="#cloud_google_com_go_storage_HMACKey">HMACKey</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>CreateHMACKey invokes an RPC for Google Cloud Storage to create a new HMACKey.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	hkey, err := client.CreateHMACKey(ctx, &quot;project-id&quot;, &quot;service-account-email&quot;)
	if err != nil {
		// TODO: handle error.
	}
	_ = hkey // TODO: Use the HMAC Key.
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_Client_HMACKeyHandle" data-uid="cloud.google.com/go/storage.Client.HMACKeyHandle" class="notranslate">func (*Client) HMACKeyHandle
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) HMACKeyHandle(projectID, accessID <a href="https://pkg.go.dev/builtin#string">string</a>) *<a href="#cloud_google_com_go_storage_HMACKeyHandle">HMACKeyHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>HMACKeyHandle creates a handle that will be used for HMACKey operations.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Client_ListHMACKeys" data-uid="cloud.google.com/go/storage.Client.ListHMACKeys" class="notranslate">func (*Client) ListHMACKeys
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) ListHMACKeys(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, projectID <a href="https://pkg.go.dev/builtin#string">string</a>, opts ...<a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a>) *<a href="#cloud_google_com_go_storage_HMACKeysIterator">HMACKeysIterator</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ListHMACKeys returns an iterator for listing HMACKeys.</p>
<p>Note: This iterator is not safe for concurrent operations without explicit synchronization.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/iterator&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	iter := client.ListHMACKeys(ctx, &quot;project-id&quot;)
	for {
		key, err := iter.Next()
		if err == iterator.Done {
			break
		}
		if err != nil {
			// TODO: handle error.
		}
		_ = key // TODO: Use the key.
	}
}
</code></pre>
  </div>
    <h5 class="notranslate">forServiceAccountEmail</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/iterator&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	iter := client.ListHMACKeys(ctx, &quot;project-id&quot;, storage.ForHMACKeyServiceAccountEmail(&quot;service@account.email&quot;))
	for {
		key, err := iter.Next()
		if err == iterator.Done {
			break
		}
		if err != nil {
			// TODO: handle error.
		}
		_ = key // TODO: Use the key.
	}
}
</code></pre>
  </div>
    <h5 class="notranslate">showDeletedKeys</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/iterator&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	iter := client.ListHMACKeys(ctx, &quot;project-id&quot;, storage.ShowDeletedHMACKeys())
	for {
		key, err := iter.Next()
		if err == iterator.Done {
			break
		}
		if err != nil {
			// TODO: handle error.
		}
		_ = key // TODO: Use the key.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_Client_ServiceAccount" data-uid="cloud.google.com/go/storage.Client.ServiceAccount" class="notranslate">func (*Client) ServiceAccount
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) ServiceAccount(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, projectID <a href="https://pkg.go.dev/builtin#string">string</a>) (<a href="https://pkg.go.dev/builtin#string">string</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>ServiceAccount fetches the email address of the given project&#39;s Google Cloud Storage service account.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Client_SetRetry" data-uid="cloud.google.com/go/storage.Client.SetRetry" class="notranslate">func (*Client) SetRetry
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Client">Client</a>) SetRetry(opts ...<a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>SetRetry configures the client with custom retry behavior as specified by the
options that are passed to it. All operations using this client will use the
customized retry configuration.
This should be called once before using the client for network operations, as
there could be indeterminate behaviour with operations in progress.
Retry options set on a bucket or object handle will take precedence over
these options.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_Composer" data-uid="cloud.google.com/go/storage.Composer" class="notranslate">Composer</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Composer struct {
	// ObjectAttrs are optional attributes to set on the destination object.
	// Any attributes must be initialized before any calls on the Composer. Nil
	// or zero-valued attributes are ignored.
	<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>

	// SendCRC specifies whether to transmit a CRC32C field. It should be set
	// to true in addition to setting the Composer's CRC32C field, because zero
	// is a valid CRC and normally a zero would not be transmitted.
	// If a CRC32C is sent, and the data in the destination object does not match
	// the checksum, the compose will be rejected.
	SendCRC32C <a href="https://pkg.go.dev/builtin#bool">bool</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>A Composer composes source objects into a destination object.</p>
<p>For Requester Pays buckets, the user project of dst is billed.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Composer_Run" data-uid="cloud.google.com/go/storage.Composer.Run" class="notranslate">func (*Composer) Run
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Composer">Composer</a>) Run(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (attrs *<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Run performs the compose operation.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	bkt := client.Bucket(&quot;bucketname&quot;)
	src1 := bkt.Object(&quot;o1&quot;)
	src2 := bkt.Object(&quot;o2&quot;)
	dst := bkt.Object(&quot;o3&quot;)

	// Compose and modify metadata.
	c := dst.ComposerFrom(src1, src2)
	c.ContentType = &quot;text/plain&quot;

	// Set the expected checksum for the destination object to be validated by
	// the backend (if desired).
	c.CRC32C = 42
	c.SendCRC32C = true

	attrs, err := c.Run(ctx)
	if err != nil {
		// TODO: Handle error.
	}
	fmt.Println(attrs)
	// Just compose.
	attrs, err = dst.ComposerFrom(src1, src2).Run(ctx)
	if err != nil {
		// TODO: Handle error.
	}
	fmt.Println(attrs)
}
</code></pre>
  </div>
        <h2 id="cloud_google_com_go_storage_Conditions" data-uid="cloud.google.com/go/storage.Conditions" class="notranslate">Conditions</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Conditions struct {

	// GenerationMatch specifies that the object must have the given generation
	// for the operation to occur.
	// If GenerationMatch is zero, it has no effect.
	// Use DoesNotExist to specify that the object does not exist in the bucket.
	GenerationMatch <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// GenerationNotMatch specifies that the object must not have the given
	// generation for the operation to occur.
	// If GenerationNotMatch is zero, it has no effect.
	// This condition only works for object reads if the WithJSONReads client
	// option is set.
	GenerationNotMatch <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// DoesNotExist specifies that the object must not exist in the bucket for
	// the operation to occur.
	// If DoesNotExist is false, it has no effect.
	DoesNotExist <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// MetagenerationMatch specifies that the object must have the given
	// metageneration for the operation to occur.
	// If MetagenerationMatch is zero, it has no effect.
	MetagenerationMatch <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// MetagenerationNotMatch specifies that the object must not have the given
	// metageneration for the operation to occur.
	// If MetagenerationNotMatch is zero, it has no effect.
	// This condition only works for object reads if the WithJSONReads client
	// option is set.
	MetagenerationNotMatch <a href="https://pkg.go.dev/builtin#int64">int64</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Conditions constrain methods to act on specific generations of
objects.</p>
<p>The zero value is an empty set of constraints. Not all conditions or
combinations of conditions are applicable to all methods.
See <a href="https://cloud.google.com/storage/docs/generations-preconditions">https://cloud.google.com/storage/docs/generations-preconditions</a>
for details on how these operate.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Copier" data-uid="cloud.google.com/go/storage.Copier" class="notranslate">Copier</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Copier struct {
	// ObjectAttrs are optional attributes to set on the destination object.
	// Any attributes must be initialized before any calls on the Copier. Nil
	// or zero-valued attributes are ignored.
	<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>

	// RewriteToken can be set before calling Run to resume a copy
	// operation. After Run returns a non-nil error, RewriteToken will
	// have been updated to contain the value needed to resume the copy.
	RewriteToken <a href="https://pkg.go.dev/builtin#string">string</a>

	// ProgressFunc can be used to monitor the progress of a multi-RPC copy
	// operation. If ProgressFunc is not nil and copying requires multiple
	// calls to the underlying service (see
	// https://cloud.google.com/storage/docs/json_api/v1/objects/rewrite), then
	// ProgressFunc will be invoked after each call with the number of bytes of
	// content copied so far and the total size in bytes of the source object.
	//
	// ProgressFunc is intended to make upload progress available to the
	// application. For example, the implementation of ProgressFunc may update
	// a progress bar in the application's UI, or log the result of
	// float64(copiedBytes)/float64(totalBytes).
	//
	// ProgressFunc should return quickly without blocking.
	ProgressFunc func(copiedBytes, totalBytes <a href="https://pkg.go.dev/builtin#uint64">uint64</a>)

	// The Cloud KMS key, in the form projects/P/locations/L/keyRings/R/cryptoKeys/K,
	// that will be used to encrypt the object. Overrides the object's KMSKeyName, if
	// any.
	//
	// Providing both a DestinationKMSKeyName and a customer-supplied encryption key
	// (via ObjectHandle.Key) on the destination object will result in an error when
	// Run is called.
	DestinationKMSKeyName <a href="https://pkg.go.dev/builtin#string">string</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>A Copier copies a source object to a destination.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Copier_Run" data-uid="cloud.google.com/go/storage.Copier.Run" class="notranslate">func (*Copier) Run
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (c *<a href="#cloud_google_com_go_storage_Copier">Copier</a>) Run(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (attrs *<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Run performs the copy.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	src := client.Bucket(&quot;bucketname&quot;).Object(&quot;file1&quot;)
	dst := client.Bucket(&quot;another-bucketname&quot;).Object(&quot;file2&quot;)

	// Copy content and modify metadata.
	copier := dst.CopierFrom(src)
	copier.ContentType = &quot;text/plain&quot;
	attrs, err := copier.Run(ctx)
	if err != nil {
		// TODO: Handle error, possibly resuming with copier.RewriteToken.
	}
	fmt.Println(attrs)

	// Just copy content.
	attrs, err = dst.CopierFrom(src).Run(ctx)
	if err != nil {
		// TODO: Handle error. No way to resume.
	}
	fmt.Println(attrs)
}
</code></pre>
  </div>
    <h5 class="notranslate">progress</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;log&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	// Display progress across multiple rewrite RPCs.
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	src := client.Bucket(&quot;bucketname&quot;).Object(&quot;file1&quot;)
	dst := client.Bucket(&quot;another-bucketname&quot;).Object(&quot;file2&quot;)

	copier := dst.CopierFrom(src)
	copier.ProgressFunc = func(copiedBytes, totalBytes uint64) {
		log.Printf(&quot;copy %.1f%% done&quot;, float64(copiedBytes)/float64(totalBytes)*100)
	}
	if _, err := copier.Run(ctx); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
        <h2 id="cloud_google_com_go_storage_CustomPlacementConfig" data-uid="cloud.google.com/go/storage.CustomPlacementConfig" class="notranslate">CustomPlacementConfig</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type CustomPlacementConfig struct {
	// The list of regional locations in which data is placed.
	// Custom Dual Regions require exactly 2 regional locations.
	DataLocations []<a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>CustomPlacementConfig holds the bucket&#39;s custom placement
configuration for Custom Dual Regions. See
<a href="https://cloud.google.com/storage/docs/locations#location-dr">https://cloud.google.com/storage/docs/locations#location-dr</a> for more information.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_HMACKey" data-uid="cloud.google.com/go/storage.HMACKey" class="notranslate">HMACKey</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HMACKey struct {
	// The HMAC's secret key.
	Secret <a href="https://pkg.go.dev/builtin#string">string</a>

	// AccessID is the ID of the HMAC key.
	AccessID <a href="https://pkg.go.dev/builtin#string">string</a>

	// Etag is the HTTP/1.1 Entity tag.
	Etag <a href="https://pkg.go.dev/builtin#string">string</a>

	// ID is the ID of the HMAC key, including the ProjectID and AccessID.
	ID <a href="https://pkg.go.dev/builtin#string">string</a>

	// ProjectID is the ID of the project that owns the
	// service account to which the key authenticates.
	ProjectID <a href="https://pkg.go.dev/builtin#string">string</a>

	// ServiceAccountEmail is the email address
	// of the key's associated service account.
	ServiceAccountEmail <a href="https://pkg.go.dev/builtin#string">string</a>

	// CreatedTime is the creation time of the HMAC key.
	CreatedTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// UpdatedTime is the last modification time of the HMAC key metadata.
	UpdatedTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// State is the state of the HMAC key.
	// It can be one of StateActive, StateInactive or StateDeleted.
	State <a href="#cloud_google_com_go_storage_HMACState">HMACState</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>HMACKey is the representation of a Google Cloud Storage HMAC key.</p>
<p>HMAC keys are used to authenticate signed access to objects. To enable HMAC key
authentication, please visit <a href="https://cloud.google.com/storage/docs/migrating">https://cloud.google.com/storage/docs/migrating</a>.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_HMACKeyAttrsToUpdate" data-uid="cloud.google.com/go/storage.HMACKeyAttrsToUpdate" class="notranslate">HMACKeyAttrsToUpdate</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HMACKeyAttrsToUpdate struct {
	// State is required and must be either StateActive or StateInactive.
	State <a href="#cloud_google_com_go_storage_HMACState">HMACState</a>

	// Etag is an optional field and it is the HTTP/1.1 Entity tag.
	Etag <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>HMACKeyAttrsToUpdate defines the attributes of an HMACKey that will be updated.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_HMACKeyHandle" data-uid="cloud.google.com/go/storage.HMACKeyHandle" class="notranslate">HMACKeyHandle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HMACKeyHandle struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>HMACKeyHandle helps provide access and management for HMAC keys.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_HMACKeyHandle_Delete" data-uid="cloud.google.com/go/storage.HMACKeyHandle.Delete" class="notranslate">func (*HMACKeyHandle) Delete
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (hkh *<a href="#cloud_google_com_go_storage_HMACKeyHandle">HMACKeyHandle</a>) Delete(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, opts ...<a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a>) <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Delete invokes an RPC to delete the key referenced by accessID, on Google Cloud Storage.
Only inactive HMAC keys can be deleted.
After deletion, a key cannot be used to authenticate requests.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	hkh := client.HMACKeyHandle(&quot;project-id&quot;, &quot;access-key-id&quot;)
	// Make sure that the HMACKey being deleted has a status of inactive.
	if err := hkh.Delete(ctx); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_HMACKeyHandle_Get" data-uid="cloud.google.com/go/storage.HMACKeyHandle.Get" class="notranslate">func (*HMACKeyHandle) Get
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (hkh *<a href="#cloud_google_com_go_storage_HMACKeyHandle">HMACKeyHandle</a>) Get(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, opts ...<a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a>) (*<a href="#cloud_google_com_go_storage_HMACKey">HMACKey</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Get invokes an RPC to retrieve the HMAC key referenced by the
HMACKeyHandle&#39;s accessID.</p>
<p>Options such as UserProjectForHMACKeys can be used to set the
userProject to be billed against for operations.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	hkh := client.HMACKeyHandle(&quot;project-id&quot;, &quot;access-key-id&quot;)
	hkey, err := hkh.Get(ctx)
	if err != nil {
		// TODO: handle error.
	}
	_ = hkey // TODO: Use the HMAC Key.
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_HMACKeyHandle_Update" data-uid="cloud.google.com/go/storage.HMACKeyHandle.Update" class="notranslate">func (*HMACKeyHandle) Update
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (h *<a href="#cloud_google_com_go_storage_HMACKeyHandle">HMACKeyHandle</a>) Update(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, au <a href="#cloud_google_com_go_storage_HMACKeyAttrsToUpdate">HMACKeyAttrsToUpdate</a>, opts ...<a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a>) (*<a href="#cloud_google_com_go_storage_HMACKey">HMACKey</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Update mutates the HMACKey referred to by accessID.
Note: gRPC is not supported.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	hkh := client.HMACKeyHandle(&quot;project-id&quot;, &quot;access-key-id&quot;)
	ukey, err := hkh.Update(ctx, storage.HMACKeyAttrsToUpdate{
		State: storage.Inactive,
	})
	if err != nil {
		// TODO: handle error.
	}
	_ = ukey // TODO: Use the HMAC Key.
}
</code></pre>
  </div>
        <h2 id="cloud_google_com_go_storage_HMACKeyOption" data-uid="cloud.google.com/go/storage.HMACKeyOption" class="notranslate">HMACKeyOption</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HMACKeyOption interface {
	// contains filtered or unexported methods
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>HMACKeyOption configures the behavior of HMACKey related methods and actions.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_HMACKeyOption_ForHMACKeyServiceAccountEmail" data-uid="cloud.google.com/go/storage.HMACKeyOption.ForHMACKeyServiceAccountEmail" class="notranslate">func ForHMACKeyServiceAccountEmail
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func ForHMACKeyServiceAccountEmail(serviceAccountEmail <a href="https://pkg.go.dev/builtin#string">string</a>) <a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ForHMACKeyServiceAccountEmail returns HMAC Keys that are
associated with the email address of a service account in the project.</p>
<p>Only one service account email can be used as a filter, so if multiple
of these options are applied, the last email to be set will be used.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_HMACKeyOption_ShowDeletedHMACKeys" data-uid="cloud.google.com/go/storage.HMACKeyOption.ShowDeletedHMACKeys" class="notranslate">func ShowDeletedHMACKeys
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func ShowDeletedHMACKeys() <a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ShowDeletedHMACKeys will also list keys whose state is &quot;DELETED&quot;.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_HMACKeyOption_UserProjectForHMACKeys" data-uid="cloud.google.com/go/storage.HMACKeyOption.UserProjectForHMACKeys" class="notranslate">func UserProjectForHMACKeys
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func UserProjectForHMACKeys(userProjectID <a href="https://pkg.go.dev/builtin#string">string</a>) <a href="#cloud_google_com_go_storage_HMACKeyOption">HMACKeyOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>UserProjectForHMACKeys will bill the request against userProjectID
if userProjectID is non-empty.</p>
<p>Note: This is a noop right now and only provided for API compatibility.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_HMACKeysIterator" data-uid="cloud.google.com/go/storage.HMACKeysIterator" class="notranslate">HMACKeysIterator</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HMACKeysIterator struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>An HMACKeysIterator is an iterator over HMACKeys.</p>
<p>Note: This iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_HMACKeysIterator_Next" data-uid="cloud.google.com/go/storage.HMACKeysIterator.Next" class="notranslate">func (*HMACKeysIterator) Next
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (it *<a href="#cloud_google_com_go_storage_HMACKeysIterator">HMACKeysIterator</a>) Next() (*<a href="#cloud_google_com_go_storage_HMACKey">HMACKey</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Next returns the next result. Its second return value is iterator.Done if
there are no more results. Once Next returns iterator.Done, all subsequent
calls will return iterator.Done.</p>
<p>Note: This iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_HMACKeysIterator_PageInfo" data-uid="cloud.google.com/go/storage.HMACKeysIterator.PageInfo" class="notranslate">func (*HMACKeysIterator) PageInfo
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (it *<a href="#cloud_google_com_go_storage_HMACKeysIterator">HMACKeysIterator</a>) PageInfo() *<a href="https://pkg.go.dev/google.golang.org/api/iterator">iterator</a>.<a href="https://pkg.go.dev/google.golang.org/api/iterator#PageInfo">PageInfo</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>PageInfo supports pagination. See the google.golang.org/api/iterator package for details.</p>
<p>Note: This iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_HMACState" data-uid="cloud.google.com/go/storage.HMACState" class="notranslate">HMACState</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HMACState <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>HMACState is the state of the HMAC key.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Active_Inactive_Deleted" data-uid="cloud.google.com/go/storage.Active,Inactive,Deleted" class="notranslate">Active, Inactive, Deleted</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// Active is the status for an active key that can be used to sign
	// requests.
	Active <a href="#cloud_google_com_go_storage_HMACState">HMACState</a> = "ACTIVE"

	// Inactive is the status for an inactive key thus requests signed by
	// this key will be denied.
	Inactive <a href="#cloud_google_com_go_storage_HMACState">HMACState</a> = "INACTIVE"

	// Deleted is the status for a key that is deleted.
	// Once in this state the key cannot key cannot be recovered
	// and does not count towards key limits. Deleted keys will be cleaned
	// up later.
	Deleted <a href="#cloud_google_com_go_storage_HMACState">HMACState</a> = "DELETED"
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_HierarchicalNamespace" data-uid="cloud.google.com/go/storage.HierarchicalNamespace" class="notranslate">HierarchicalNamespace</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type HierarchicalNamespace struct {
	// Enabled indicates whether hierarchical namespace features are enabled on
	// the bucket. This can only be set at bucket creation time currently.
	Enabled <a href="https://pkg.go.dev/builtin#bool">bool</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>HierarchicalNamespace contains the bucket&#39;s hierarchical namespace
configuration. Hierarchical namespace enabled buckets can contain
[cloud.google.com/go/storage/control/apiv2/controlpb.Folder] resources.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Lifecycle" data-uid="cloud.google.com/go/storage.Lifecycle" class="notranslate">Lifecycle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Lifecycle struct {
	Rules []<a href="#cloud_google_com_go_storage_LifecycleRule">LifecycleRule</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Lifecycle is the lifecycle configuration for objects in the bucket.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_LifecycleAction" data-uid="cloud.google.com/go/storage.LifecycleAction" class="notranslate">LifecycleAction</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type LifecycleAction struct {
	// Type is the type of action to take on matching objects.
	//
	// Acceptable values are storage.DeleteAction, storage.SetStorageClassAction,
	// and storage.AbortIncompleteMPUAction.
	Type <a href="https://pkg.go.dev/builtin#string">string</a>

	// StorageClass is the storage class to set on matching objects if the Action
	// is "SetStorageClass".
	StorageClass <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>LifecycleAction is a lifecycle configuration action.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_LifecycleCondition" data-uid="cloud.google.com/go/storage.LifecycleCondition" class="notranslate">LifecycleCondition</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type LifecycleCondition struct {
	// AllObjects is used to select all objects in a bucket by
	// setting AgeInDays to 0.
	AllObjects <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// AgeInDays is the age of the object in days.
	// If you want to set AgeInDays to `0` use AllObjects set to `true`.
	AgeInDays <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// CreatedBefore is the time the object was created.
	//
	// This condition is satisfied when an object is created before midnight of
	// the specified date in UTC.
	CreatedBefore <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// CustomTimeBefore is the CustomTime metadata field of the object. This
	// condition is satisfied when an object's CustomTime timestamp is before
	// midnight of the specified date in UTC.
	//
	// This condition can only be satisfied if CustomTime has been set.
	CustomTimeBefore <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// DaysSinceCustomTime is the days elapsed since the CustomTime date of the
	// object. This condition can only be satisfied if CustomTime has been set.
	// Note: Using `0` as the value will be ignored by the library and not sent to the API.
	DaysSinceCustomTime <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// DaysSinceNoncurrentTime is the days elapsed since the noncurrent timestamp
	// of the object. This condition is relevant only for versioned objects.
	// Note: Using `0` as the value will be ignored by the library and not sent to the API.
	DaysSinceNoncurrentTime <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// Liveness specifies the object's liveness. Relevant only for versioned objects
	Liveness <a href="#cloud_google_com_go_storage_Liveness">Liveness</a>

	// MatchesPrefix is the condition matching an object if any of the
	// matches_prefix strings are an exact prefix of the object's name.
	MatchesPrefix []<a href="https://pkg.go.dev/builtin#string">string</a>

	// MatchesStorageClasses is the condition matching the object's storage
	// class.
	//
	// Values include "STANDARD", "NEARLINE", "COLDLINE" and "ARCHIVE".
	MatchesStorageClasses []<a href="https://pkg.go.dev/builtin#string">string</a>

	// MatchesSuffix is the condition matching an object if any of the
	// matches_suffix strings are an exact suffix of the object's name.
	MatchesSuffix []<a href="https://pkg.go.dev/builtin#string">string</a>

	// NoncurrentTimeBefore is the noncurrent timestamp of the object. This
	// condition is satisfied when an object's noncurrent timestamp is before
	// midnight of the specified date in UTC.
	//
	// This condition is relevant only for versioned objects.
	NoncurrentTimeBefore <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// NumNewerVersions is the condition matching objects with a number of newer versions.
	//
	// If the value is N, this condition is satisfied when there are at least N
	// versions (including the live version) newer than this version of the
	// object.
	// Note: Using `0` as the value will be ignored by the library and not sent to the API.
	NumNewerVersions <a href="https://pkg.go.dev/builtin#int64">int64</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>LifecycleCondition is a set of conditions used to match objects and take an
action automatically.</p>
<p>All configured conditions must be met for the associated action to be taken.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_LifecycleRule" data-uid="cloud.google.com/go/storage.LifecycleRule" class="notranslate">LifecycleRule</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type LifecycleRule struct {
	// Action is the action to take when all of the associated conditions are
	// met.
	Action <a href="#cloud_google_com_go_storage_LifecycleAction">LifecycleAction</a>

	// Condition is the set of conditions that must be met for the associated
	// action to be taken.
	Condition <a href="#cloud_google_com_go_storage_LifecycleCondition">LifecycleCondition</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>LifecycleRule is a lifecycle configuration rule.</p>
<p>When all the configured conditions are met by an object in the bucket, the
configured action will automatically be taken on that object.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Liveness" data-uid="cloud.google.com/go/storage.Liveness" class="notranslate">Liveness</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Liveness <a href="https://pkg.go.dev/builtin#int">int</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>Liveness specifies whether the object is live or not.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_LiveAndArchived_Live_Archived" data-uid="cloud.google.com/go/storage.LiveAndArchived,Live,Archived" class="notranslate">LiveAndArchived, Live, Archived</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// LiveAndArchived includes both live and archived objects.
	LiveAndArchived <a href="#cloud_google_com_go_storage_Liveness">Liveness</a> = <a href="https://pkg.go.dev/builtin#iota">iota</a>
	// Live specifies that the object is still live.
	Live
	// Archived specifies that the object is archived.
	Archived
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_MoveObjectDestination" data-uid="cloud.google.com/go/storage.MoveObjectDestination" class="notranslate">MoveObjectDestination</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type MoveObjectDestination struct {
	Object     <a href="https://pkg.go.dev/builtin#string">string</a>
	Conditions *<a href="#cloud_google_com_go_storage_Conditions">Conditions</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>MoveObjectDestination provides the destination object name and (optional) preconditions
for [ObjectHandle.Move].</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_MultiRangeDownloader" data-uid="cloud.google.com/go/storage.MultiRangeDownloader" class="notranslate">MultiRangeDownloader</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type MultiRangeDownloader struct {
	Attrs <a href="#cloud_google_com_go_storage_ReaderObjectAttrs">ReaderObjectAttrs</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>MultiRangeDownloader reads a Cloud Storage object.</p>
<p>Typically, a MultiRangeDownloader opens a stream to which we can add
different ranges to read from the object.</p>
<p>This API is currently in preview and is not yet available for general use.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_MultiRangeDownloader_Add" data-uid="cloud.google.com/go/storage.MultiRangeDownloader.Add" class="notranslate">func (*MultiRangeDownloader) Add
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (mrd *<a href="#cloud_google_com_go_storage_MultiRangeDownloader">MultiRangeDownloader</a>) Add(output <a href="https://pkg.go.dev/io">io</a>.<a href="https://pkg.go.dev/io#Writer">Writer</a>, offset, length <a href="https://pkg.go.dev/builtin#int64">int64</a>, callback func(<a href="https://pkg.go.dev/builtin#int64">int64</a>, <a href="https://pkg.go.dev/builtin#int64">int64</a>, <a href="https://pkg.go.dev/builtin#error">error</a>))</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Add adds a new range to MultiRangeDownloader.</p>
<p>The offset for the first byte to return in the read, relative to the start
of the object.</p>
<p>A negative offset value will be interpreted as the number of bytes from the
end of the object to be returned. Requesting a negative offset with magnitude
larger than the size of the object will return the entire object. An offset
larger than the size of the object will result in an OutOfRange error.</p>
<p>A limit of zero indicates that there is no limit, and a negative limit will
cause an error.</p>
<p>This will initiate the read range but is non-blocking; call callback to
process the result. Add is thread-safe and can be called simultaneously
from different goroutines.</p>
<p>Callback will be called with the offset, length of data read, and error
of the read. Note that the length of the data read may be less than the
requested length if the end of the object is reached.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_MultiRangeDownloader_Close" data-uid="cloud.google.com/go/storage.MultiRangeDownloader.Close" class="notranslate">func (*MultiRangeDownloader) Close
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (mrd *<a href="#cloud_google_com_go_storage_MultiRangeDownloader">MultiRangeDownloader</a>) Close() <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Close the MultiRangeDownloader. It must be called when done reading.
Adding new ranges after this has been called will cause an error.</p>
<p>This will immediately close the stream and can result in a
&quot;stream closed early&quot; error if a response for a range is still not processed.
Call [MultiRangeDownloader.Wait] to avoid this error.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_MultiRangeDownloader_GetHandle" data-uid="cloud.google.com/go/storage.MultiRangeDownloader.GetHandle" class="notranslate">func (*MultiRangeDownloader) GetHandle
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (mrd *<a href="#cloud_google_com_go_storage_MultiRangeDownloader">MultiRangeDownloader</a>) GetHandle() []<a href="https://pkg.go.dev/builtin#byte">byte</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>GetHandle returns the read handle. This can be used to further speed up the
follow up read if the same object is read through a different stream.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_MultiRangeDownloader_Wait" data-uid="cloud.google.com/go/storage.MultiRangeDownloader.Wait" class="notranslate">func (*MultiRangeDownloader) Wait
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (mrd *<a href="#cloud_google_com_go_storage_MultiRangeDownloader">MultiRangeDownloader</a>) Wait()</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Wait for all the responses to process on the stream.
Adding new ranges after this has been called will cause an error.
Wait will wait for all callbacks to finish.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_Notification" data-uid="cloud.google.com/go/storage.Notification" class="notranslate">Notification</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Notification struct {
	//The ID of the notification.
	ID <a href="https://pkg.go.dev/builtin#string">string</a>

	// The ID of the topic to which this subscription publishes.
	TopicID <a href="https://pkg.go.dev/builtin#string">string</a>

	// The ID of the project to which the topic belongs.
	TopicProjectID <a href="https://pkg.go.dev/builtin#string">string</a>

	// Only send notifications about listed event types. If empty, send notifications
	// for all event types.
	// See https://cloud.google.com/storage/docs/pubsub-notifications#events.
	EventTypes []<a href="https://pkg.go.dev/builtin#string">string</a>

	// If present, only apply this notification configuration to object names that
	// begin with this prefix.
	ObjectNamePrefix <a href="https://pkg.go.dev/builtin#string">string</a>

	// An optional list of additional attributes to attach to each Cloud PubSub
	// message published for this notification subscription.
	CustomAttributes map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a>

	// The contents of the message payload.
	// See https://cloud.google.com/storage/docs/pubsub-notifications#payload.
	PayloadFormat <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>A Notification describes how to send Cloud PubSub messages when certain
events occur in a bucket.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_ObjectAttrs" data-uid="cloud.google.com/go/storage.ObjectAttrs" class="notranslate">ObjectAttrs</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ObjectAttrs struct {
	// Bucket is the name of the bucket containing this GCS object.
	// This field is read-only.
	Bucket <a href="https://pkg.go.dev/builtin#string">string</a>

	// Name is the name of the object within the bucket.
	// This field is read-only.
	Name <a href="https://pkg.go.dev/builtin#string">string</a>

	// ContentType is the MIME type of the object's content.
	ContentType <a href="https://pkg.go.dev/builtin#string">string</a>

	// ContentLanguage is the content language of the object's content.
	ContentLanguage <a href="https://pkg.go.dev/builtin#string">string</a>

	// CacheControl is the Cache-Control header to be sent in the response
	// headers when serving the object data.
	CacheControl <a href="https://pkg.go.dev/builtin#string">string</a>

	// EventBasedHold specifies whether an object is under event-based hold. New
	// objects created in a bucket whose DefaultEventBasedHold is set will
	// default to that value.
	EventBasedHold <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// TemporaryHold specifies whether an object is under temporary hold. While
	// this flag is set to true, the object is protected against deletion and
	// overwrites.
	TemporaryHold <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// RetentionExpirationTime is a server-determined value that specifies the
	// earliest time that the object's retention period expires.
	// This is a read-only field.
	RetentionExpirationTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// ACL is the list of access control rules for the object.
	ACL []<a href="#cloud_google_com_go_storage_ACLRule">ACLRule</a>

	// If not empty, applies a predefined set of access controls. It should be set
	// only when writing, copying or composing an object. When copying or composing,
	// it acts as the destinationPredefinedAcl parameter.
	// PredefinedACL is always empty for ObjectAttrs returned from the service.
	// See https://cloud.google.com/storage/docs/json_api/v1/objects/insert
	// for valid values.
	PredefinedACL <a href="https://pkg.go.dev/builtin#string">string</a>

	// Owner is the owner of the object. This field is read-only.
	//
	// If non-zero, it is in the form of "user-<userid>".
	Owner <a href="https://pkg.go.dev/builtin#string">string</a>

	// Size is the length of the object's content. This field is read-only.
	Size <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// ContentEncoding is the encoding of the object's content.
	ContentEncoding <a href="https://pkg.go.dev/builtin#string">string</a>

	// ContentDisposition is the optional Content-Disposition header of the object
	// sent in the response headers.
	ContentDisposition <a href="https://pkg.go.dev/builtin#string">string</a>

	// MD5 is the MD5 hash of the object's content. This field is read-only,
	// except when used from a Writer. If set on a Writer, the uploaded
	// data is rejected if its MD5 hash does not match this field.
	MD5 []<a href="https://pkg.go.dev/builtin#byte">byte</a>

	// CRC32C is the CRC32 checksum of the object's content using the Castagnoli93
	// polynomial. This field is read-only, except when used from a Writer or
	// Composer. In those cases, if the SendCRC32C field in the Writer or Composer
	// is set to is true, the uploaded data is rejected if its CRC32C hash does
	// not match this field.
	//
	// Note: For a Writer, SendCRC32C must be set to true BEFORE the first call to
	// Writer.Write() in order to send the checksum.
	CRC32C <a href="https://pkg.go.dev/builtin#uint32">uint32</a>

	// MediaLink is an URL to the object's content. This field is read-only.
	MediaLink <a href="https://pkg.go.dev/builtin#string">string</a>

	// Metadata represents user-provided metadata, in key/value pairs.
	// It can be nil if no metadata is provided.
	//
	// For object downloads using Reader, metadata keys are sent as headers.
	// Therefore, avoid setting metadata keys using characters that are not valid
	// for headers. See https://www.rfc-editor.org/rfc/rfc7230#section-3.2.6.
	Metadata map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a>

	// Generation is the generation number of the object's content.
	// This field is read-only.
	Generation <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// Metageneration is the version of the metadata for this
	// object at this generation. This field is used for preconditions
	// and for detecting changes in metadata. A metageneration number
	// is only meaningful in the context of a particular generation
	// of a particular object. This field is read-only.
	Metageneration <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// StorageClass is the storage class of the object. This defines
	// how objects are stored and determines the SLA and the cost of storage.
	// Typical values are "STANDARD", "NEARLINE", "COLDLINE" and "ARCHIVE".
	// Defaults to "STANDARD".
	// See https://cloud.google.com/storage/docs/storage-classes for all
	// valid values.
	StorageClass <a href="https://pkg.go.dev/builtin#string">string</a>

	// Created is the time the object was created. This field is read-only.
	Created <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// Finalized is the time the object contents were finalized. This may differ
	// from Created for appendable objects. This field is read-only.
	Finalized <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// Deleted is the time the object was deleted.
	// If not deleted, it is the zero value. This field is read-only.
	Deleted <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// Updated is the creation or modification time of the object.
	// For buckets with versioning enabled, changing an object's
	// metadata does not change this property. This field is read-only.
	Updated <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// CustomerKeySHA256 is the base64-encoded SHA-256 hash of the
	// customer-supplied encryption key for the object. It is empty if there is
	// no customer-supplied encryption key.
	// See // https://cloud.google.com/storage/docs/encryption for more about
	// encryption in Google Cloud Storage.
	CustomerKeySHA256 <a href="https://pkg.go.dev/builtin#string">string</a>

	// Cloud KMS key name, in the form
	// projects/P/locations/L/keyRings/R/cryptoKeys/K, used to encrypt this object,
	// if the object is encrypted by such a key.
	//
	// Providing both a KMSKeyName and a customer-supplied encryption key (via
	// ObjectHandle.Key) will result in an error when writing an object.
	KMSKeyName <a href="https://pkg.go.dev/builtin#string">string</a>

	// Prefix is set only for ObjectAttrs which represent synthetic "directory
	// entries" when iterating over buckets using Query.Delimiter. See
	// ObjectIterator.Next. When set, no other fields in ObjectAttrs will be
	// populated.
	Prefix <a href="https://pkg.go.dev/builtin#string">string</a>

	// Etag is the HTTP/1.1 Entity tag for the object.
	// This field is read-only.
	Etag <a href="https://pkg.go.dev/builtin#string">string</a>

	// A user-specified timestamp which can be applied to an object. This is
	// typically set in order to use the CustomTimeBefore and DaysSinceCustomTime
	// LifecycleConditions to manage object lifecycles.
	//
	// CustomTime cannot be removed once set on an object. It can be updated to a
	// later value but not to an earlier one. For more information see
	// https://cloud.google.com/storage/docs/metadata#custom-time .
	CustomTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// ComponentCount is the number of objects contained within a composite object.
	// For non-composite objects, the value will be zero.
	// This field is read-only.
	ComponentCount <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// Retention contains the retention configuration for this object.
	// ObjectRetention cannot be configured or reported through the gRPC API.
	Retention *<a href="#cloud_google_com_go_storage_ObjectRetention">ObjectRetention</a>

	// SoftDeleteTime is the time when the object became soft-deleted.
	// Soft-deleted objects are only accessible on an object handle returned by
	// ObjectHandle.SoftDeleted; if ObjectHandle.SoftDeleted has not been set,
	// ObjectHandle.Attrs will return ErrObjectNotExist if the object is soft-deleted.
	// This field is read-only.
	SoftDeleteTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// HardDeleteTime is the time when the object will be permanently deleted.
	// Only set when an object becomes soft-deleted with a soft delete policy.
	// Soft-deleted objects are only accessible on an object handle returned by
	// ObjectHandle.SoftDeleted; if ObjectHandle.SoftDeleted has not been set,
	// ObjectHandle.Attrs will return ErrObjectNotExist if the object is soft-deleted.
	// This field is read-only.
	HardDeleteTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>
}</userid></code></pre>
        </div>
        <div class="markdown level1 summary"><p>ObjectAttrs represents the metadata for a Google Cloud Storage (GCS) object.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_ObjectAttrsToUpdate" data-uid="cloud.google.com/go/storage.ObjectAttrsToUpdate" class="notranslate">ObjectAttrsToUpdate</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ObjectAttrsToUpdate struct {
	EventBasedHold     <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#Bool">Bool</a>
	TemporaryHold      <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#Bool">Bool</a>
	ContentType        <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#String">String</a>
	ContentLanguage    <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#String">String</a>
	ContentEncoding    <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#String">String</a>
	ContentDisposition <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#String">String</a>
	CacheControl       <a href="https://pkg.go.dev/cloud.google.com/go/internal/optional">optional</a>.<a href="https://pkg.go.dev/cloud.google.com/go/internal/optional#String">String</a>
	CustomTime         <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>         // Cannot be deleted or backdated from its current value.
	Metadata           map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a> // Set to map[string]string{} to delete.
	ACL                []<a href="#cloud_google_com_go_storage_ACLRule">ACLRule</a>

	// If not empty, applies a predefined set of access controls. ACL must be nil.
	// See https://cloud.google.com/storage/docs/json_api/v1/objects/patch.
	PredefinedACL <a href="https://pkg.go.dev/builtin#string">string</a>

	// Retention contains the retention configuration for this object.
	// Operations other than setting the retention for the first time or
	// extending the RetainUntil time on the object retention must be done
	// on an ObjectHandle with OverrideUnlockedRetention set to true.
	Retention *<a href="#cloud_google_com_go_storage_ObjectRetention">ObjectRetention</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ObjectAttrsToUpdate is used to update the attributes of an object.
Only fields set to non-nil values will be updated.
For all fields except CustomTime and Retention, set the field to its zero
value to delete it. CustomTime cannot be deleted or changed to an earlier
time once set. Retention can be deleted (only if the Mode is Unlocked) by
setting it to an empty value (not nil).</p>
<p>For example, to change ContentType and delete ContentEncoding, Metadata and
Retention, use:</p>
<pre><code>ObjectAttrsToUpdate{
    ContentType: &quot;text/html&quot;,
    ContentEncoding: &quot;&quot;,
    Metadata: map[string]string{},
    Retention: &amp;ObjectRetention{},
}
</code></pre></div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_ObjectHandle" data-uid="cloud.google.com/go/storage.ObjectHandle" class="notranslate">ObjectHandle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ObjectHandle struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ObjectHandle provides operations on an object in a Google Cloud Storage bucket.
Use BucketHandle.Object to get a handle.</p>
</div>
        <div class="markdown level1 conceptual"></div>
          <h3>Example</h3>
          <h4 class="notranslate">exists</h4>
        <div class="codewrapper">
        <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;errors&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}

	attrs, err := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;).Attrs(ctx)
	if errors.Is(err, storage.ErrObjectNotExist) {
		fmt.Println(&quot;The object does not exist&quot;)
		return
	}
	if err != nil {
		// TODO: handle error.
	}
	fmt.Printf(&quot;The object exists and has attributes: %#v\n&quot;, attrs)
}
</code></pre>
        </div>
  
            <h3 id="cloud_google_com_go_storage_ObjectHandle_ACL" data-uid="cloud.google.com/go/storage.ObjectHandle.ACL" class="notranslate">func (*ObjectHandle) ACL
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) ACL() *<a href="#cloud_google_com_go_storage_ACLHandle">ACLHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ACL provides access to the object&#39;s access control list.
This controls who can read and write this object.
This call does not perform any network operations.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_Attrs" data-uid="cloud.google.com/go/storage.ObjectHandle.Attrs" class="notranslate">func (*ObjectHandle) Attrs
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Attrs(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (attrs *<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Attrs returns meta information about the object.
ErrObjectNotExist will be returned if the object is not found.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	objAttrs, err := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;).Attrs(ctx)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(objAttrs)
}
</code></pre>
  </div>
    <h5 class="notranslate">withConditions</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	obj := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;)
	// Read the object.
	objAttrs1, err := obj.Attrs(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Do something else for a while.
	time.Sleep(5 * time.Minute)
	// Now read the same contents, even if the object has been written since the last read.
	objAttrs2, err := obj.Generation(objAttrs1.Generation).Attrs(ctx)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(objAttrs1, objAttrs2)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_BucketName" data-uid="cloud.google.com/go/storage.ObjectHandle.BucketName" class="notranslate">func (*ObjectHandle) BucketName
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) BucketName() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>BucketName returns the name of the bucket.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_ComposerFrom" data-uid="cloud.google.com/go/storage.ObjectHandle.ComposerFrom" class="notranslate">func (*ObjectHandle) ComposerFrom
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (dst *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) ComposerFrom(srcs ...*<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) *<a href="#cloud_google_com_go_storage_Composer">Composer</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ComposerFrom creates a Composer that can compose srcs into dst.
You can immediately call Run on the returned Composer, or you can
configure it first.</p>
<p>The encryption key for the destination object will be used to decrypt all
source objects and encrypt the destination object. It is an error
to specify an encryption key for any of the source objects.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_CopierFrom" data-uid="cloud.google.com/go/storage.ObjectHandle.CopierFrom" class="notranslate">func (*ObjectHandle) CopierFrom
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (dst *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) CopierFrom(src *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) *<a href="#cloud_google_com_go_storage_Copier">Copier</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>CopierFrom creates a Copier that can copy src to dst.
You can immediately call Run on the returned Copier, or
you can configure it first.</p>
<p>For Requester Pays buckets, the user project of dst is billed, unless it is empty,
in which case the user project of src is billed.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
    <h5 class="notranslate">rotateEncryptionKeys</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

var key1, key2 []byte

func main() {
	// To rotate the encryption key on an object, copy it onto itself.
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	obj := client.Bucket(&quot;bucketname&quot;).Object(&quot;obj&quot;)
	// Assume obj is encrypted with key1, and we want to change to key2.
	_, err = obj.Key(key2).CopierFrom(obj.Key(key1)).Run(ctx)
	if err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_Delete" data-uid="cloud.google.com/go/storage.ObjectHandle.Delete" class="notranslate">func (*ObjectHandle) Delete
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Delete(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Delete deletes the single specified object.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/iterator&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// To delete multiple objects in a bucket, list them with an
	// ObjectIterator, then Delete them.

	// If you are using this package on the App Engine Flex runtime,
	// you can init a bucket client with your app's default bucket name.
	// See http://godoc.org/google.golang.org/appengine/file#DefaultBucketName.
	bucket := client.Bucket(&quot;my-bucket&quot;)
	it := bucket.Objects(ctx, nil)
	for {
		objAttrs, err := it.Next()
		if err != nil &amp;&amp; err != iterator.Done {
			// TODO: Handle error.
		}
		if err == iterator.Done {
			break
		}
		if err := bucket.Object(objAttrs.Name).Delete(ctx); err != nil {
			// TODO: Handle error.
		}
	}
	fmt.Println(&quot;deleted all object items in the bucket specified.&quot;)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_Generation" data-uid="cloud.google.com/go/storage.ObjectHandle.Generation" class="notranslate">func (*ObjectHandle) Generation
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Generation(gen <a href="https://pkg.go.dev/builtin#int64">int64</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Generation returns a new ObjectHandle that operates on a specific generation
of the object.
By default, the handle operates on the latest generation. Not
all operations work when given a specific generation; check the API
endpoints at <a href="https://cloud.google.com/storage/docs/json_api/">https://cloud.google.com/storage/docs/json_api/</a> for details.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;io&quot;
	&quot;os&quot;

	&quot;cloud.google.com/go/storage&quot;
)

var gen int64

func main() {
	// Read an object's contents from generation gen, regardless of the
	// current generation of the object.
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	obj := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;)
	rc, err := obj.Generation(gen).NewReader(ctx)
	if err != nil {
		// TODO: handle error.
	}
	defer rc.Close()
	if _, err := io.Copy(os.Stdout, rc); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_If" data-uid="cloud.google.com/go/storage.ObjectHandle.If" class="notranslate">func (*ObjectHandle) If
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) If(conds <a href="#cloud_google_com_go_storage_Conditions">Conditions</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>If returns a new ObjectHandle that applies a set of preconditions.
Preconditions already set on the ObjectHandle are ignored. The supplied
Conditions must have at least one field set to a non-default value;
otherwise an error will be returned from any operation on the ObjectHandle.
Operations on the new handle will return an error if the preconditions are not
satisfied. See <a href="https://cloud.google.com/storage/docs/generations-preconditions">https://cloud.google.com/storage/docs/generations-preconditions</a>
for more details.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;io&quot;
	&quot;net/http&quot;
	&quot;os&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/googleapi&quot;
)

var gen int64

func main() {
	// Read from an object only if the current generation is gen.
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	obj := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;)
	rc, err := obj.If(storage.Conditions{GenerationMatch: gen}).NewReader(ctx)
	if err != nil {
		// TODO: handle error.
	}

	if _, err := io.Copy(os.Stdout, rc); err != nil {
		// TODO: handle error.
	}
	if err := rc.Close(); err != nil {
		switch ee := err.(type) {
		case *googleapi.Error:
			if ee.Code == http.StatusPreconditionFailed {
				// The condition presented in the If failed.
				// TODO: handle error.
			}

			// TODO: handle other status codes here.

		default:
			// TODO: handle error.
		}
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_Key" data-uid="cloud.google.com/go/storage.ObjectHandle.Key" class="notranslate">func (*ObjectHandle) Key
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Key(encryptionKey []<a href="https://pkg.go.dev/builtin#byte">byte</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Key returns a new ObjectHandle that uses the supplied encryption
key to encrypt and decrypt the object&#39;s contents.</p>
<p>Encryption key must be a 32-byte AES-256 key.
See <a href="https://cloud.google.com/storage/docs/encryption">https://cloud.google.com/storage/docs/encryption</a> for details.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

var secretKey []byte

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	obj := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;)
	// Encrypt the object's contents.
	w := obj.Key(secretKey).NewWriter(ctx)
	if _, err := w.Write([]byte(&quot;top secret&quot;)); err != nil {
		// TODO: handle error.
	}
	if err := w.Close(); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_Move" data-uid="cloud.google.com/go/storage.ObjectHandle.Move" class="notranslate">func (*ObjectHandle) Move
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Move(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, destination <a href="#cloud_google_com_go_storage_MoveObjectDestination">MoveObjectDestination</a>) (*<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Move changes the name of the object to the destination name.
It can only be used to rename an object within the same bucket. The
bucket must have [HierarchicalNamespace] enabled to use this method.</p>
<p>Any preconditions set on the ObjectHandle will be applied for the source
object. Set preconditions on the destination object using
[MoveObjectDestination.Conditions].</p>
<p>This API is in preview and is not yet publicly available.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_NewMultiRangeDownloader" data-uid="cloud.google.com/go/storage.ObjectHandle.NewMultiRangeDownloader" class="notranslate">func (*ObjectHandle) NewMultiRangeDownloader
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) NewMultiRangeDownloader(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (mrd *<a href="#cloud_google_com_go_storage_MultiRangeDownloader">MultiRangeDownloader</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>NewMultiRangeDownloader creates a multi-range reader for an object.
Must be called on a gRPC client created using [NewGRPCClient].</p>
<p>This uses the gRPC-specific bi-directional read API, which is in private
preview; please contact your account manager if interested.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_NewRangeReader" data-uid="cloud.google.com/go/storage.ObjectHandle.NewRangeReader" class="notranslate">func (*ObjectHandle) NewRangeReader
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) NewRangeReader(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, offset, length <a href="https://pkg.go.dev/builtin#int64">int64</a>) (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>NewRangeReader reads part of an object, reading at most length bytes
starting at the given offset. If length is negative, the object is read
until the end. If offset is negative, the object is read abs(offset) bytes
from the end, and length must also be negative to indicate all remaining
bytes will be read.</p>
<p>If the object&#39;s metadata property &quot;Content-Encoding&quot; is set to &quot;gzip&quot; or satisfies
decompressive transcoding per <a href="https://cloud.google.com/storage/docs/transcoding">https://cloud.google.com/storage/docs/transcoding</a>
that file will be served back whole, regardless of the requested range as
Google Cloud Storage dictates. If decompressive transcoding occurs,
[Reader.Attrs.Decompressed] will be true.</p>
<p>By default, reads are made using the Cloud Storage XML API. We recommend
using the JSON API instead, which can be done by setting [WithJSONReads]
when calling [NewClient]. This ensures consistency with other client
operations, which all use JSON. JSON will become the default in a future
release.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Read only the first 64K.
	rc, err := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewRangeReader(ctx, 0, 64*1024)
	if err != nil {
		// TODO: handle error.
	}
	defer rc.Close()

	slurp, err := ioutil.ReadAll(rc)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Printf(&quot;first 64K of file contents:\n%s\n&quot;, slurp)
}
</code></pre>
  </div>
    <h5 class="notranslate">lastNBytes</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Read only the last 10 bytes until the end of the file.
	rc, err := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewRangeReader(ctx, -10, -1)
	if err != nil {
		// TODO: handle error.
	}
	defer rc.Close()

	slurp, err := ioutil.ReadAll(rc)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Printf(&quot;Last 10 bytes from the end of the file:\n%s\n&quot;, slurp)
}
</code></pre>
  </div>
    <h5 class="notranslate">untilEnd</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Read from the 101st byte until the end of the file.
	rc, err := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewRangeReader(ctx, 100, -1)
	if err != nil {
		// TODO: handle error.
	}
	defer rc.Close()

	slurp, err := ioutil.ReadAll(rc)
	if err != nil {
		// TODO: handle error.
	}
	fmt.Printf(&quot;From 101st byte until the end:\n%s\n&quot;, slurp)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_NewReader" data-uid="cloud.google.com/go/storage.ObjectHandle.NewReader" class="notranslate">func (*ObjectHandle) NewReader
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) NewReader(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) (*<a href="#cloud_google_com_go_storage_Reader">Reader</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>NewReader creates a new Reader to read the contents of the
object.
ErrObjectNotExist will be returned if the object is not found.</p>
<p>The caller must call Close on the returned Reader when done reading.</p>
<p>By default, reads are made using the Cloud Storage XML API. We recommend
using the JSON API instead, which can be done by setting [WithJSONReads]
when calling [NewClient]. This ensures consistency with other client
operations, which all use JSON. JSON will become the default in a future
release.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	rc, err := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;).NewReader(ctx)
	if err != nil {
		// TODO: handle error.
	}
	slurp, err := ioutil.ReadAll(rc)
	rc.Close()
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(&quot;file contents:&quot;, slurp)
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_NewWriter" data-uid="cloud.google.com/go/storage.ObjectHandle.NewWriter" class="notranslate">func (*ObjectHandle) NewWriter
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) NewWriter(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>) *<a href="#cloud_google_com_go_storage_Writer">Writer</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>NewWriter returns a storage Writer that writes to the GCS object
associated with this ObjectHandle.</p>
<p>A new object will be created unless an object with this name already exists.
Otherwise any previous object with the same name will be replaced.
The object will not be available (and any previous object will remain)
until Close has been called.</p>
<p>Attributes can be set on the object by modifying the returned Writer&#39;s
ObjectAttrs field before the first call to Write. If no ContentType
attribute is specified, the content type will be automatically sniffed
using net/http.DetectContentType.</p>
<p>Note that each Writer allocates an internal buffer of size Writer.ChunkSize.
See the ChunkSize docs for more information.</p>
<p>It is the caller&#39;s responsibility to call Close when writing is done. To
stop writing without saving the data, cancel the context.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	wc := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewWriter(ctx)
	_ = wc // TODO: Use the Writer.
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_ObjectName" data-uid="cloud.google.com/go/storage.ObjectHandle.ObjectName" class="notranslate">func (*ObjectHandle) ObjectName
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) ObjectName() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ObjectName returns the name of the object.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_OverrideUnlockedRetention" data-uid="cloud.google.com/go/storage.ObjectHandle.OverrideUnlockedRetention" class="notranslate">func (*ObjectHandle) OverrideUnlockedRetention
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) OverrideUnlockedRetention(override <a href="https://pkg.go.dev/builtin#bool">bool</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>OverrideUnlockedRetention provides an option for overriding an Unlocked
Retention policy. This must be set to true in order to change a policy
from Unlocked to Locked, to set it to null, or to reduce its
RetainUntil attribute. It is not required for setting the ObjectRetention for
the first time nor for extending the RetainUntil time.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Overriding the retention policy is required to shorten the retention period
	// for an object.
	retainUntilDate := time.Now().Add(24 * time.Hour)
	uattrs := storage.ObjectAttrsToUpdate{
		Retention: &amp;storage.ObjectRetention{
			Mode:        &quot;Unlocked&quot;,
			RetainUntil: retainUntilDate,
		},
	}
	if _, err := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).OverrideUnlockedRetention(true).Update(ctx, uattrs); err != nil {
		// TODO: handle error.
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectHandle_ReadCompressed" data-uid="cloud.google.com/go/storage.ObjectHandle.ReadCompressed" class="notranslate">func (*ObjectHandle) ReadCompressed
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) ReadCompressed(compressed <a href="https://pkg.go.dev/builtin#bool">bool</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ReadCompressed when true causes the read to happen without decompressing.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_ReadHandle" data-uid="cloud.google.com/go/storage.ObjectHandle.ReadHandle" class="notranslate">func (*ObjectHandle) ReadHandle
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) ReadHandle(r <a href="#cloud_google_com_go_storage_Reader_ReadHandle">ReadHandle</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ReadHandle returns a new ObjectHandle that uses the ReadHandle to open the objects.</p>
<p>Objects that have already been opened can be opened an additional time,
using a read handle returned in the response, at lower latency.
This produces the exact same object and generation and does not check if
the generation is still the newest one.
Note that this will be a noop unless it&#39;s set on a gRPC client on buckets with
bi-directional read API access.
Also note that you can get a ReadHandle only via calling reader.ReadHandle() on a
previous read of the same object.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_Restore" data-uid="cloud.google.com/go/storage.ObjectHandle.Restore" class="notranslate">func (*ObjectHandle) Restore
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Restore(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, opts *<a href="#cloud_google_com_go_storage_RestoreOptions">RestoreOptions</a>) (*<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Restore will restore a soft-deleted object to a live object.
Note that you must specify a generation to use this method.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_Retryer" data-uid="cloud.google.com/go/storage.ObjectHandle.Retryer" class="notranslate">func (*ObjectHandle) Retryer
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Retryer(opts ...<a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a>) *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Retryer returns an object handle that is configured with custom retry
behavior as specified by the options that are passed to it. All operations
on the new handle will use the customized retry configuration.
These retry options will merge with the bucket&#39;s retryer (if set) for the
returned handle. Options passed into this method will take precedence over
retry options on the bucket and client. Note that you must explicitly pass in
each option you want to override.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_SoftDeleted" data-uid="cloud.google.com/go/storage.ObjectHandle.SoftDeleted" class="notranslate">func (*ObjectHandle) SoftDeleted
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) SoftDeleted() *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>SoftDeleted returns an object handle that can be used to get an object that
has been soft deleted. To get a soft deleted object, the generation must be
set on the object using ObjectHandle.Generation.
Note that an error will be returned if a live object is queried using this.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_ObjectHandle_Update" data-uid="cloud.google.com/go/storage.ObjectHandle.Update" class="notranslate">func (*ObjectHandle) Update
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (o *<a href="#cloud_google_com_go_storage_ObjectHandle">ObjectHandle</a>) Update(ctx <a href="https://pkg.go.dev/context">context</a>.<a href="https://pkg.go.dev/context#Context">Context</a>, uattrs <a href="#cloud_google_com_go_storage_ObjectAttrsToUpdate">ObjectAttrsToUpdate</a>) (oa *<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Update updates an object with the provided attributes. See
ObjectAttrsToUpdate docs for details on treatment of zero values.
ErrObjectNotExist will be returned if the object is not found.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	// Change only the content type of the object.
	objAttrs, err := client.Bucket(&quot;my-bucket&quot;).Object(&quot;my-object&quot;).Update(ctx, storage.ObjectAttrsToUpdate{
		ContentType:        &quot;text/html&quot;,
		ContentDisposition: &quot;&quot;, // delete ContentDisposition
	})
	if err != nil {
		// TODO: handle error.
	}
	fmt.Println(objAttrs)
}
</code></pre>
  </div>
        <h2 id="cloud_google_com_go_storage_ObjectIterator" data-uid="cloud.google.com/go/storage.ObjectIterator" class="notranslate">ObjectIterator</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ObjectIterator struct {
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>An ObjectIterator is an iterator over ObjectAttrs.</p>
<p>Note: This iterator is not safe for concurrent operations without explicit synchronization.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_ObjectIterator_Next" data-uid="cloud.google.com/go/storage.ObjectIterator.Next" class="notranslate">func (*ObjectIterator) Next
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (it *<a href="#cloud_google_com_go_storage_ObjectIterator">ObjectIterator</a>) Next() (*<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Next returns the next result. Its second return value is iterator.Done if
there are no more results. Once Next returns iterator.Done, all subsequent
calls will return iterator.Done.</p>
<p>In addition, if Next returns an error other than iterator.Done, all
subsequent calls will return the same error. To continue iteration, a new
<code>ObjectIterator</code> must be created. Since objects are ordered lexicographically
by name, <code>Query.StartOffset</code> can be used to create a new iterator which will
start at the desired place. See
<a href="https://pkg.go.dev/cloud.google.com/go/storage?tab=doc#hdr-Listing_objects">https://pkg.go.dev/cloud.google.com/go/storage?tab=doc#hdr-Listing_objects</a>.</p>
<p>If Query.Delimiter is non-empty, some of the ObjectAttrs returned by Next will
have a non-empty Prefix field, and a zero value for all other fields. These
represent prefixes.</p>
<p>Note: This method is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
	&quot;google.golang.org/api/iterator&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	it := client.Bucket(&quot;my-bucket&quot;).Objects(ctx, nil)
	for {
		objAttrs, err := it.Next()
		if err == iterator.Done {
			break
		}
		if err != nil {
			// TODO: Handle error.
		}
		fmt.Println(objAttrs)
	}
}
</code></pre>
  </div>
            <h3 id="cloud_google_com_go_storage_ObjectIterator_PageInfo" data-uid="cloud.google.com/go/storage.ObjectIterator.PageInfo" class="notranslate">func (*ObjectIterator) PageInfo
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (it *<a href="#cloud_google_com_go_storage_ObjectIterator">ObjectIterator</a>) PageInfo() *<a href="https://pkg.go.dev/google.golang.org/api/iterator">iterator</a>.<a href="https://pkg.go.dev/google.golang.org/api/iterator#PageInfo">PageInfo</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>PageInfo supports pagination. See the google.golang.org/api/iterator package for details.</p>
<p>Note: This method is not safe for concurrent operations without explicit synchronization.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_ObjectRetention" data-uid="cloud.google.com/go/storage.ObjectRetention" class="notranslate">ObjectRetention</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ObjectRetention struct {
	// Mode is the retention policy's mode on this object. Valid values are
	// "Locked" and "Unlocked".
	// Locked retention policies cannot be changed. Unlocked policies require an
	// override to change.
	Mode <a href="https://pkg.go.dev/builtin#string">string</a>

	// RetainUntil is the time this object will be retained until.
	RetainUntil <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ObjectRetention contains the retention configuration for this object.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_PolicyV4Fields" data-uid="cloud.google.com/go/storage.PolicyV4Fields" class="notranslate">PolicyV4Fields</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type PolicyV4Fields struct {
	// ACL specifies the access control permissions for the object.
	// Optional.
	ACL <a href="https://pkg.go.dev/builtin#string">string</a>
	// CacheControl specifies the caching directives for the object.
	// Optional.
	CacheControl <a href="https://pkg.go.dev/builtin#string">string</a>
	// ContentType specifies the media type of the object.
	// Optional.
	ContentType <a href="https://pkg.go.dev/builtin#string">string</a>
	// ContentDisposition specifies how the file will be served back to requesters.
	// Optional.
	ContentDisposition <a href="https://pkg.go.dev/builtin#string">string</a>
	// ContentEncoding specifies the decompressive transcoding that the object.
	// This field is complementary to ContentType in that the file could be
	// compressed but ContentType specifies the file's original media type.
	// Optional.
	ContentEncoding <a href="https://pkg.go.dev/builtin#string">string</a>
	// Metadata specifies custom metadata for the object.
	// If any key doesn't begin with "x-goog-meta-", an error will be returned.
	// Optional.
	Metadata map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a>
	// StatusCodeOnSuccess when set, specifies the status code that Cloud Storage
	// will serve back on successful upload of the object.
	// Optional.
	StatusCodeOnSuccess <a href="https://pkg.go.dev/builtin#int">int</a>
	// RedirectToURLOnSuccess when set, specifies the URL that Cloud Storage
	// will serve back on successful upload of the object.
	// Optional.
	RedirectToURLOnSuccess <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>PolicyV4Fields describes the attributes for a PostPolicyV4 request.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_PostPolicyV4" data-uid="cloud.google.com/go/storage.PostPolicyV4" class="notranslate">PostPolicyV4</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type PostPolicyV4 struct {
	// URL is the generated URL that the file upload will be made to.
	URL <a href="https://pkg.go.dev/builtin#string">string</a>
	// Fields specifies the generated key-values that the file uploader
	// must include in their multipart upload form.
	Fields map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>PostPolicyV4 describes the URL and respective form fields for a generated PostPolicyV4 request.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_PostPolicyV4_GenerateSignedPostPolicyV4" data-uid="cloud.google.com/go/storage.PostPolicyV4.GenerateSignedPostPolicyV4" class="notranslate">func GenerateSignedPostPolicyV4
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func GenerateSignedPostPolicyV4(bucket, object <a href="https://pkg.go.dev/builtin#string">string</a>, opts *<a href="#cloud_google_com_go_storage_PostPolicyV4Options">PostPolicyV4Options</a>) (*<a href="#cloud_google_com_go_storage_PostPolicyV4">PostPolicyV4</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>GenerateSignedPostPolicyV4 generates a PostPolicyV4 value from bucket, object and opts.
The generated URL and fields will then allow an unauthenticated client to perform multipart uploads.
If initializing a Storage Client, instead use the Bucket.GenerateSignedPostPolicyV4
method which uses the Client&#39;s credentials to handle authentication.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Example</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;bytes&quot;
	&quot;io&quot;
	&quot;mime/multipart&quot;
	&quot;net/http&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	pv4, err := storage.GenerateSignedPostPolicyV4(&quot;my-bucket&quot;, &quot;my-object.txt&quot;, &amp;storage.PostPolicyV4Options{
		GoogleAccessID: &quot;my-access-id&quot;,
		PrivateKey:     []byte(&quot;my-private-key&quot;),

		// The upload expires in 2hours.
		Expires: time.Now().Add(2 * time.Hour),

		Fields: &amp;storage.PolicyV4Fields{
			StatusCodeOnSuccess:    200,
			RedirectToURLOnSuccess: &quot;https://example.org/&quot;,
			// It MUST only be a text file.
			ContentType: &quot;text/plain&quot;,
		},

		// The conditions that the uploaded file will be expected to conform to.
		Conditions: []storage.PostPolicyV4Condition{
			// Make the file a maximum of 10mB.
			storage.ConditionContentLengthRange(0, 10&lt;&lt;20),
		},
	})
	if err != nil {
		// TODO: handle error.
	}

	// Now you can upload your file using the generated post policy
	// with a plain HTTP client or even the browser.
	formBuf := new(bytes.Buffer)
	mw := multipart.NewWriter(formBuf)
	for fieldName, value := range pv4.Fields {
		if err := mw.WriteField(fieldName, value); err != nil {
			// TODO: handle error.
		}
	}
	file := bytes.NewReader(bytes.Repeat([]byte(&quot;a&quot;), 100))

	mf, err := mw.CreateFormFile(&quot;file&quot;, &quot;myfile.txt&quot;)
	if err != nil {
		// TODO: handle error.
	}
	if _, err := io.Copy(mf, file); err != nil {
		// TODO: handle error.
	}
	if err := mw.Close(); err != nil {
		// TODO: handle error.
	}

	// Compose the request.
	req, err := http.NewRequest(&quot;POST&quot;, pv4.URL, formBuf)
	if err != nil {
		// TODO: handle error.
	}
	// Ensure the Content-Type is derived from the multipart writer.
	req.Header.Set(&quot;Content-Type&quot;, mw.FormDataContentType())
	res, err := http.DefaultClient.Do(req)
	if err != nil {
		// TODO: handle error.
	}
	_ = res
}
</code></pre>
  </div>
        <h2 id="cloud_google_com_go_storage_PostPolicyV4Condition" data-uid="cloud.google.com/go/storage.PostPolicyV4Condition" class="notranslate">PostPolicyV4Condition</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type PostPolicyV4Condition interface {
	<a href="https://pkg.go.dev/encoding/json">json</a>.<a href="https://pkg.go.dev/encoding/json#Marshaler">Marshaler</a>
	// contains filtered or unexported methods
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>PostPolicyV4Condition describes the constraints that the subsequent
object upload&#39;s multipart form fields will be expected to conform to.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_PostPolicyV4Condition_ConditionContentLengthRange" data-uid="cloud.google.com/go/storage.PostPolicyV4Condition.ConditionContentLengthRange" class="notranslate">func ConditionContentLengthRange
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func ConditionContentLengthRange(start, end <a href="https://pkg.go.dev/builtin#uint64">uint64</a>) <a href="#cloud_google_com_go_storage_PostPolicyV4Condition">PostPolicyV4Condition</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ConditionContentLengthRange constraints the limits that the
multipart upload&#39;s range header will be expected to be within.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_PostPolicyV4Condition_ConditionStartsWith" data-uid="cloud.google.com/go/storage.PostPolicyV4Condition.ConditionStartsWith" class="notranslate">func ConditionStartsWith
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func ConditionStartsWith(key, value <a href="https://pkg.go.dev/builtin#string">string</a>) <a href="#cloud_google_com_go_storage_PostPolicyV4Condition">PostPolicyV4Condition</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ConditionStartsWith checks that an attributes starts with value.
An empty value will cause this condition to be ignored.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_PostPolicyV4Options" data-uid="cloud.google.com/go/storage.PostPolicyV4Options" class="notranslate">PostPolicyV4Options</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type PostPolicyV4Options struct {
	// GoogleAccessID represents the authorizer of the signed post policy generation.
	// It is typically the Google service account client email address from
	// the Google Developers Console in the form of "xxx@developer.gserviceaccount.com".
	// Required.
	GoogleAccessID <a href="https://pkg.go.dev/builtin#string">string</a>

	// PrivateKey is the Google service account private key. It is obtainable
	// from the Google Developers Console.
	// At https://console.developers.google.com/project/<your-project-id>/apiui/credential,
	// create a service account client ID or reuse one of your existing service account
	// credentials. Click on the "Generate new P12 key" to generate and download
	// a new private key. Once you download the P12 file, use the following command
	// to convert it into a PEM file.
	//
	//    $ openssl pkcs12 -in key.p12 -passin pass:notasecret -out key.pem -nodes
	//
	// Provide the contents of the PEM file as a byte slice.
	// Exactly one of PrivateKey or SignBytes must be non-nil.
	PrivateKey []<a href="https://pkg.go.dev/builtin#byte">byte</a>

	// SignBytes is a function for implementing custom signing.
	//
	// Deprecated: Use SignRawBytes. If both SignBytes and SignRawBytes are defined,
	// SignBytes will be ignored.
	// This SignBytes function expects the bytes it receives to be hashed, while
	// SignRawBytes accepts the raw bytes without hashing, allowing more flexibility.
	// Add the following to the top of your signing function to hash the bytes
	// to use SignRawBytes instead:
	//		shaSum := sha256.Sum256(bytes)
	//		bytes = shaSum[:]
	//
	SignBytes func(hashBytes []<a href="https://pkg.go.dev/builtin#byte">byte</a>) (signature []<a href="https://pkg.go.dev/builtin#byte">byte</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)

	// SignRawBytes is a function for implementing custom signing. For example, if
	// your application is running on Google App Engine, you can use
	// appengine's internal signing function:
	//		ctx := appengine.NewContext(request)
	//     	acc, _ := appengine.ServiceAccount(ctx)
	//     	&PostPolicyV4Options{
	//     		GoogleAccessID: acc,
	//     		SignRawBytes: func(b []byte) ([]byte, error) {
	//     			_, signedBytes, err := appengine.SignBytes(ctx, b)
	//     			return signedBytes, err
	//     		},
	//     		// etc.
	//     	})
	//
	// SignRawBytes is equivalent to the SignBytes field on SignedURLOptions;
	// that is, you may use the same signing function for the two.
	//
	// Exactly one of PrivateKey or SignRawBytes must be non-nil.
	SignRawBytes func(bytes []<a href="https://pkg.go.dev/builtin#byte">byte</a>) (signature []<a href="https://pkg.go.dev/builtin#byte">byte</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)

	// Expires is the expiration time on the signed post policy.
	// It must be a time in the future.
	// Required.
	Expires <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// Style provides options for the type of URL to use. Options are
	// PathStyle (default), BucketBoundHostname, and VirtualHostedStyle. See
	// https://cloud.google.com/storage/docs/request-endpoints for details.
	// Optional.
	Style <a href="#cloud_google_com_go_storage_URLStyle">URLStyle</a>

	// Insecure when set indicates that the generated URL's scheme
	// will use "http" instead of "https" (default).
	// Optional.
	Insecure <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// Fields specifies the attributes of a PostPolicyV4 request.
	// When Fields is non-nil, its attributes must match those that will
	// passed into field Conditions.
	// Optional.
	Fields *<a href="#cloud_google_com_go_storage_PolicyV4Fields">PolicyV4Fields</a>

	// The conditions that the uploaded file will be expected to conform to.
	// When used, the failure of an upload to satisfy a condition will result in
	// a 4XX status code, back with the message describing the problem.
	// Optional.
	Conditions []<a href="#cloud_google_com_go_storage_PostPolicyV4Condition">PostPolicyV4Condition</a>

	// Hostname sets the host of the signed post policy. This field overrides
	// any endpoint set on a storage Client or through STORAGE_EMULATOR_HOST.
	// Only compatible with PathStyle URLStyle.
	// Optional.
	Hostname <a href="https://pkg.go.dev/builtin#string">string</a>
	// contains filtered or unexported fields
}</your-project-id></code></pre>
        </div>
        <div class="markdown level1 summary"><p>PostPolicyV4Options are used to construct a signed post policy.
Please see <a href="https://cloud.google.com/storage/docs/xml-api/post-object">https://cloud.google.com/storage/docs/xml-api/post-object</a>
for reference about the fields.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_ProjectTeam" data-uid="cloud.google.com/go/storage.ProjectTeam" class="notranslate">ProjectTeam</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ProjectTeam struct {
	ProjectNumber <a href="https://pkg.go.dev/builtin#string">string</a>
	Team          <a href="https://pkg.go.dev/builtin#string">string</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ProjectTeam is the project team associated with the entity, if any.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Projection" data-uid="cloud.google.com/go/storage.Projection" class="notranslate">Projection</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Projection <a href="https://pkg.go.dev/builtin#int">int</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>Projection is enumerated type for Query.Projection.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_ProjectionDefault_ProjectionFull_ProjectionNoACL" data-uid="cloud.google.com/go/storage.ProjectionDefault,ProjectionFull,ProjectionNoACL" class="notranslate">ProjectionDefault, ProjectionFull, ProjectionNoACL</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// ProjectionDefault returns all fields of objects.
	ProjectionDefault <a href="#cloud_google_com_go_storage_Projection">Projection</a> = <a href="https://pkg.go.dev/builtin#iota">iota</a>

	// ProjectionFull returns all fields of objects.
	ProjectionFull

	// ProjectionNoACL returns all fields of objects except for Owner and ACL.
	ProjectionNoACL
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Projection_String" data-uid="cloud.google.com/go/storage.Projection.String" class="notranslate">func (Projection) String
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (p <a href="#cloud_google_com_go_storage_Projection">Projection</a>) String() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_PublicAccessPrevention" data-uid="cloud.google.com/go/storage.PublicAccessPrevention" class="notranslate">PublicAccessPrevention</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type PublicAccessPrevention <a href="https://pkg.go.dev/builtin#int">int</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>PublicAccessPrevention configures the Public Access Prevention feature, which
can be used to disallow public access to any data in a bucket. See
<a href="https://cloud.google.com/storage/docs/public-access-prevention">https://cloud.google.com/storage/docs/public-access-prevention</a> for more
information.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_PublicAccessPreventionUnknown_PublicAccessPreventionUnspecified_PublicAccessPreventionEnforced_PublicAccessPreventionInherited" data-uid="cloud.google.com/go/storage.PublicAccessPreventionUnknown,PublicAccessPreventionUnspecified,PublicAccessPreventionEnforced,PublicAccessPreventionInherited" class="notranslate">PublicAccessPreventionUnknown, PublicAccessPreventionUnspecified, PublicAccessPreventionEnforced, PublicAccessPreventionInherited</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// PublicAccessPreventionUnknown is a zero value, used only if this field is
	// not set in a call to GCS.
	PublicAccessPreventionUnknown <a href="#cloud_google_com_go_storage_PublicAccessPrevention">PublicAccessPrevention</a> = <a href="https://pkg.go.dev/builtin#iota">iota</a>

	// PublicAccessPreventionUnspecified corresponds to a value of "unspecified".
	// Deprecated: use PublicAccessPreventionInherited
	PublicAccessPreventionUnspecified

	// PublicAccessPreventionEnforced corresponds to a value of "enforced". This
	// enforces Public Access Prevention on the bucket.
	PublicAccessPreventionEnforced

	// PublicAccessPreventionInherited corresponds to a value of "inherited"
	// and is the default for buckets.
	PublicAccessPreventionInherited
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_PublicAccessPrevention_String" data-uid="cloud.google.com/go/storage.PublicAccessPrevention.String" class="notranslate">func (PublicAccessPrevention) String
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (p <a href="#cloud_google_com_go_storage_PublicAccessPrevention">PublicAccessPrevention</a>) String() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_Query" data-uid="cloud.google.com/go/storage.Query" class="notranslate">Query</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Query struct {
	// Delimiter returns results in a directory-like fashion.
	// Results will contain only objects whose names, aside from the
	// prefix, do not contain delimiter. Objects whose names,
	// aside from the prefix, contain delimiter will have their name,
	// truncated after the delimiter, returned in prefixes.
	// Duplicate prefixes are omitted.
	// Must be set to / when used with the MatchGlob parameter to filter results
	// in a directory-like mode.
	// Optional.
	Delimiter <a href="https://pkg.go.dev/builtin#string">string</a>

	// Prefix is the prefix filter to query objects
	// whose names begin with this prefix.
	// Optional.
	Prefix <a href="https://pkg.go.dev/builtin#string">string</a>

	// Versions indicates whether multiple versions of the same
	// object will be included in the results.
	Versions <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// StartOffset is used to filter results to objects whose names are
	// lexicographically equal to or after startOffset. If endOffset is also set,
	// the objects listed will have names between startOffset (inclusive) and
	// endOffset (exclusive).
	StartOffset <a href="https://pkg.go.dev/builtin#string">string</a>

	// EndOffset is used to filter results to objects whose names are
	// lexicographically before endOffset. If startOffset is also set, the objects
	// listed will have names between startOffset (inclusive) and endOffset (exclusive).
	EndOffset <a href="https://pkg.go.dev/builtin#string">string</a>

	// Projection defines the set of properties to return. It will default to ProjectionFull,
	// which returns all properties. Passing ProjectionNoACL will omit Owner and ACL,
	// which may improve performance when listing many objects.
	Projection <a href="#cloud_google_com_go_storage_Projection">Projection</a>

	// IncludeTrailingDelimiter controls how objects which end in a single
	// instance of Delimiter (for example, if Query.Delimiter = "/" and the
	// object name is "foo/bar/") are included in the results. By default, these
	// objects only show up as prefixes. If IncludeTrailingDelimiter is set to
	// true, they will also be included as objects and their metadata will be
	// populated in the returned ObjectAttrs.
	IncludeTrailingDelimiter <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// MatchGlob is a glob pattern used to filter results (for example, foo*bar). See
	// https://cloud.google.com/storage/docs/json_api/v1/objects/list#list-object-glob
	// for syntax details. When Delimiter is set in conjunction with MatchGlob,
	// it must be set to /.
	MatchGlob <a href="https://pkg.go.dev/builtin#string">string</a>

	// IncludeFoldersAsPrefixes includes Folders and Managed Folders in the set of
	// prefixes returned by the query. Only applicable if Delimiter is set to /.
	IncludeFoldersAsPrefixes <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// SoftDeleted indicates whether to list soft-deleted objects.
	// If true, only objects that have been soft-deleted will be listed.
	// By default, soft-deleted objects are not listed.
	SoftDeleted <a href="https://pkg.go.dev/builtin#bool">bool</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Query represents a query to filter objects from a bucket.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Query_SetAttrSelection" data-uid="cloud.google.com/go/storage.Query.SetAttrSelection" class="notranslate">func (*Query) SetAttrSelection
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (q *<a href="#cloud_google_com_go_storage_Query">Query</a>) SetAttrSelection(attrs []<a href="https://pkg.go.dev/builtin#string">string</a>) <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>SetAttrSelection makes the query populate only specific attributes of
objects. When iterating over objects, if you only need each object&#39;s name
and size, pass []string{&quot;Name&quot;, &quot;Size&quot;} to this method. Only these fields
will be fetched for each object across the network; the other fields of
ObjectAttr will remain at their default values. This is a performance
optimization; for more information, see
<a href="https://cloud.google.com/storage/docs/json_api/v1/how-tos/performance">https://cloud.google.com/storage/docs/json_api/v1/how-tos/performance</a></p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_RPO" data-uid="cloud.google.com/go/storage.RPO" class="notranslate">RPO</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type RPO <a href="https://pkg.go.dev/builtin#int">int</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>RPO (Recovery Point Objective) configures the turbo replication feature. See
<a href="https://cloud.google.com/storage/docs/managing-turbo-replication">https://cloud.google.com/storage/docs/managing-turbo-replication</a> for more information.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_RPOUnknown_RPODefault_RPOAsyncTurbo" data-uid="cloud.google.com/go/storage.RPOUnknown,RPODefault,RPOAsyncTurbo" class="notranslate">RPOUnknown, RPODefault, RPOAsyncTurbo</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// RPOUnknown is a zero value. It may be returned from bucket.Attrs() if RPO
	// is not present in the bucket metadata, that is, the bucket is not dual-region.
	// This value is also used if the RPO field is not set in a call to GCS.
	RPOUnknown <a href="#cloud_google_com_go_storage_RPO">RPO</a> = <a href="https://pkg.go.dev/builtin#iota">iota</a>

	// RPODefault represents default replication. It is used to reset RPO on an
	// existing bucket  that has this field set to RPOAsyncTurbo. Otherwise it
	// is equivalent to RPOUnknown, and is always ignored. This value is valid
	// for dual- or multi-region buckets.
	RPODefault

	// RPOAsyncTurbo represents turbo replication and is used to enable Turbo
	// Replication on a bucket. This value is only valid for dual-region buckets.
	RPOAsyncTurbo
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_RPO_String" data-uid="cloud.google.com/go/storage.RPO.String" class="notranslate">func (RPO) String
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (rpo <a href="#cloud_google_com_go_storage_RPO">RPO</a>) String() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_ReadHandle" data-uid="cloud.google.com/go/storage.ReadHandle" class="notranslate">ReadHandle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ReadHandle []<a href="https://pkg.go.dev/builtin#byte">byte</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>ReadHandle associated with the object. This is periodically refreshed.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Reader" data-uid="cloud.google.com/go/storage.Reader" class="notranslate">Reader</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Reader struct {
	Attrs <a href="#cloud_google_com_go_storage_ReaderObjectAttrs">ReaderObjectAttrs</a>
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>Reader reads a Cloud Storage object.
It implements io.Reader.</p>
<p>Typically, a Reader computes the CRC of the downloaded content and compares it to
the stored CRC, returning an error from Read if there is a mismatch. This integrity check
is skipped if transcoding occurs. See <a href="https://cloud.google.com/storage/docs/transcoding">https://cloud.google.com/storage/docs/transcoding</a>.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Reader_CacheControl" data-uid="cloud.google.com/go/storage.Reader.CacheControl" class="notranslate">func (*Reader) CacheControl
 (deprecated)</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) CacheControl() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>CacheControl returns the cache control of the object.</p>
<p>Deprecated: use Reader.Attrs.CacheControl.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_Close" data-uid="cloud.google.com/go/storage.Reader.Close" class="notranslate">func (*Reader) Close
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) Close() <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Close closes the Reader. It must be called when done reading.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_ContentEncoding" data-uid="cloud.google.com/go/storage.Reader.ContentEncoding" class="notranslate">func (*Reader) ContentEncoding
 (deprecated)</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) ContentEncoding() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ContentEncoding returns the content encoding of the object.</p>
<p>Deprecated: use Reader.Attrs.ContentEncoding.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_ContentType" data-uid="cloud.google.com/go/storage.Reader.ContentType" class="notranslate">func (*Reader) ContentType
 (deprecated)</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) ContentType() <a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ContentType returns the content type of the object.</p>
<p>Deprecated: use Reader.Attrs.ContentType.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_LastModified" data-uid="cloud.google.com/go/storage.Reader.LastModified" class="notranslate">func (*Reader) LastModified
 (deprecated)</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) LastModified() (<a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>LastModified returns the value of the Last-Modified header.</p>
<p>Deprecated: use Reader.Attrs.LastModified.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_Metadata" data-uid="cloud.google.com/go/storage.Reader.Metadata" class="notranslate">func (*Reader) Metadata
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) Metadata() map[<a href="https://pkg.go.dev/builtin#string">string</a>]<a href="https://pkg.go.dev/builtin#string">string</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Metadata returns user-provided metadata, in key/value pairs.</p>
<p>It can be nil if no metadata is present, or if the client uses the JSON
API for downloads. Only the XML and gRPC APIs support getting
custom metadata via the Reader; for JSON make a separate call to
ObjectHandle.Attrs.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_Read" data-uid="cloud.google.com/go/storage.Reader.Read" class="notranslate">func (*Reader) Read
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) Read(p []<a href="https://pkg.go.dev/builtin#byte">byte</a>) (<a href="https://pkg.go.dev/builtin#int">int</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_ReadHandle" data-uid="cloud.google.com/go/storage.Reader.ReadHandle" class="notranslate">func (*Reader) ReadHandle
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) ReadHandle() <a href="#cloud_google_com_go_storage_Reader_ReadHandle">ReadHandle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>ReadHandle returns the read handle associated with an object.
ReadHandle will be periodically refreshed.</p>
<p>ReadHandle requires the gRPC-specific bi-directional read API, which is in
private preview; please contact your account manager if interested.
Note that this only valid for gRPC and only with zonal buckets.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_Remain" data-uid="cloud.google.com/go/storage.Reader.Remain" class="notranslate">func (*Reader) Remain
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) Remain() <a href="https://pkg.go.dev/builtin#int64">int64</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Remain returns the number of bytes left to read, or -1 if unknown.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_Size" data-uid="cloud.google.com/go/storage.Reader.Size" class="notranslate">func (*Reader) Size
 (deprecated)</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) Size() <a href="https://pkg.go.dev/builtin#int64">int64</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Size returns the size of the object in bytes.
The returned value is always the same and is not affected by
calls to Read or Close.</p>
<p>Deprecated: use Reader.Attrs.Size.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Reader_WriteTo" data-uid="cloud.google.com/go/storage.Reader.WriteTo" class="notranslate">func (*Reader) WriteTo
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (r *<a href="#cloud_google_com_go_storage_Reader">Reader</a>) WriteTo(w <a href="https://pkg.go.dev/io">io</a>.<a href="https://pkg.go.dev/io#Writer">Writer</a>) (<a href="https://pkg.go.dev/builtin#int64">int64</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>WriteTo writes all the data from the Reader to w. Fulfills the io.WriterTo interface.
This is called implicitly when calling io.Copy on a Reader.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_ReaderObjectAttrs" data-uid="cloud.google.com/go/storage.ReaderObjectAttrs" class="notranslate">ReaderObjectAttrs</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type ReaderObjectAttrs struct {
	// Size is the length of the object's content.
	Size <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// StartOffset is the byte offset within the object
	// from which reading begins.
	// This value is only non-zero for range requests.
	StartOffset <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// ContentType is the MIME type of the object's content.
	ContentType <a href="https://pkg.go.dev/builtin#string">string</a>

	// ContentEncoding is the encoding of the object's content.
	ContentEncoding <a href="https://pkg.go.dev/builtin#string">string</a>

	// CacheControl specifies whether and for how long browser and Internet
	// caches are allowed to cache your objects.
	CacheControl <a href="https://pkg.go.dev/builtin#string">string</a>

	// LastModified is the time that the object was last modified.
	LastModified <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// Generation is the generation number of the object's content.
	Generation <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// Metageneration is the version of the metadata for this object at
	// this generation. This field is used for preconditions and for
	// detecting changes in metadata. A metageneration number is only
	// meaningful in the context of a particular generation of a
	// particular object.
	Metageneration <a href="https://pkg.go.dev/builtin#int64">int64</a>

	// CRC32C is the CRC32 checksum of the entire object's content using the
	// Castagnoli93 polynomial, if available.
	CRC32C <a href="https://pkg.go.dev/builtin#uint32">uint32</a>

	// Decompressed is true if the object is stored as a gzip file and was
	// decompressed when read.
	// Objects are automatically decompressed if the object's metadata property
	// "Content-Encoding" is set to "gzip" or satisfies decompressive
	// transcoding as per https://cloud.google.com/storage/docs/transcoding.
	//
	// To prevent decompression on reads, use [ObjectHandle.ReadCompressed].
	Decompressed <a href="https://pkg.go.dev/builtin#bool">bool</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>ReaderObjectAttrs are attributes about the object being read. These are populated
during the New call. This struct only holds a subset of object attributes: to
get the full set of attributes, use ObjectHandle.Attrs.</p>
<p>Each field is read-only.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_RestoreOptions" data-uid="cloud.google.com/go/storage.RestoreOptions" class="notranslate">RestoreOptions</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type RestoreOptions struct {
	/// CopySourceACL indicates whether the restored object should copy the
	// access controls of the source object. Only valid for buckets with
	// fine-grained access. If uniform bucket-level access is enabled, setting
	// CopySourceACL will cause an error.
	CopySourceACL <a href="https://pkg.go.dev/builtin#bool">bool</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>RestoreOptions allows you to set options when restoring an object.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_RetentionPolicy" data-uid="cloud.google.com/go/storage.RetentionPolicy" class="notranslate">RetentionPolicy</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type RetentionPolicy struct {
	// RetentionPeriod specifies the duration that objects need to be
	// retained. Retention duration must be greater than zero and less than
	// 100 years. Note that enforcement of retention periods less than a day
	// is not guaranteed. Such periods should only be used for testing
	// purposes.
	RetentionPeriod <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Duration">Duration</a>

	// EffectiveTime is the time from which the policy was enforced and
	// effective. This field is read-only.
	EffectiveTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// IsLocked describes whether the bucket is locked. Once locked, an
	// object retention policy cannot be modified.
	// This field is read-only.
	IsLocked <a href="https://pkg.go.dev/builtin#bool">bool</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>RetentionPolicy enforces a minimum retention time for all objects
contained in the bucket.</p>
<p>Any attempt to overwrite or delete objects younger than the retention
period will result in an error. An unlocked retention policy can be
modified or removed from the bucket via the Update method. A
locked retention policy cannot be removed or shortened in duration
for the lifetime of the bucket.</p>
<p>This feature is in private alpha release. It is not currently available to
most customers. It might be changed in backwards-incompatible ways and is not
subject to any SLA or deprecation policy.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_RetryOption" data-uid="cloud.google.com/go/storage.RetryOption" class="notranslate">RetryOption</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type RetryOption interface {
	// contains filtered or unexported methods
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>RetryOption allows users to configure non-default retry behavior for API
calls made to GCS.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_RetryOption_WithBackoff" data-uid="cloud.google.com/go/storage.RetryOption.WithBackoff" class="notranslate">func WithBackoff
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func WithBackoff(backoff <a href="https://pkg.go.dev/github.com/googleapis/gax-go/v2">gax</a>.<a href="https://pkg.go.dev/github.com/googleapis/gax-go/v2#Backoff">Backoff</a>) <a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>WithBackoff allows configuration of the backoff timing used for retries.
Available configuration options (Initial, Max and Multiplier) are described
at <a href="https://pkg.go.dev/github.com/googleapis/gax-go/v2#Backoff">https://pkg.go.dev/github.com/googleapis/gax-go/v2#Backoff</a>. If any fields
are not supplied by the user, gax default values will be used.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_RetryOption_WithErrorFunc" data-uid="cloud.google.com/go/storage.RetryOption.WithErrorFunc" class="notranslate">func WithErrorFunc
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func WithErrorFunc(shouldRetry func(err <a href="https://pkg.go.dev/builtin#error">error</a>) <a href="https://pkg.go.dev/builtin#bool">bool</a>) <a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>WithErrorFunc allows users to pass a custom function to the retryer. Errors
will be retried if and only if <code>shouldRetry(err)</code> returns true.
By default, the following errors are retried (see ShouldRetry for the default
function):</p>
<ul>
<li><p>HTTP responses with codes 408, 429, 502, 503, and 504.</p>
</li>
<li><p>Transient network errors such as connection reset and io.ErrUnexpectedEOF.</p>
</li>
<li><p>Errors which are considered transient using the Temporary() interface.</p>
</li>
<li><p>Wrapped versions of these errors.</p>
</li>
</ul>
<p>This option can be used to retry on a different set of errors than the
default. Users can use the default ShouldRetry function inside their custom
function if they only want to make minor modifications to default behavior.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_RetryOption_WithMaxAttempts" data-uid="cloud.google.com/go/storage.RetryOption.WithMaxAttempts" class="notranslate">func WithMaxAttempts
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func WithMaxAttempts(maxAttempts <a href="https://pkg.go.dev/builtin#int">int</a>) <a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>WithMaxAttempts configures the maximum number of times an API call can be made
in the case of retryable errors.
For example, if you set WithMaxAttempts(5), the operation will be attempted up to 5
times total (initial call plus 4 retries).
Without this setting, operations will continue retrying indefinitely
until either the context is canceled or a deadline is reached.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_RetryOption_WithPolicy" data-uid="cloud.google.com/go/storage.RetryOption.WithPolicy" class="notranslate">func WithPolicy
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func WithPolicy(policy <a href="#cloud_google_com_go_storage_RetryPolicy">RetryPolicy</a>) <a href="#cloud_google_com_go_storage_RetryOption">RetryOption</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>WithPolicy allows the configuration of which operations should be performed
with retries for transient errors.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_RetryPolicy" data-uid="cloud.google.com/go/storage.RetryPolicy" class="notranslate">RetryPolicy</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type RetryPolicy <a href="https://pkg.go.dev/builtin#int">int</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>RetryPolicy describes the available policies for which operations should be
retried. The default is <code>RetryIdempotent</code>.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_RetryIdempotent_RetryAlways_RetryNever" data-uid="cloud.google.com/go/storage.RetryIdempotent,RetryAlways,RetryNever" class="notranslate">RetryIdempotent, RetryAlways, RetryNever</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// RetryIdempotent causes only idempotent operations to be retried when the
	// service returns a transient error. Using this policy, fully idempotent
	// operations (such as `ObjectHandle.Attrs()`) will always be retried.
	// Conditionally idempotent operations (for example `ObjectHandle.Update()`)
	// will be retried only if the necessary conditions have been supplied (in
	// the case of `ObjectHandle.Update()` this would mean supplying a
	// `Conditions.MetagenerationMatch` condition is required).
	RetryIdempotent <a href="#cloud_google_com_go_storage_RetryPolicy">RetryPolicy</a> = <a href="https://pkg.go.dev/builtin#iota">iota</a>

	// RetryAlways causes all operations to be retried when the service returns a
	// transient error, regardless of idempotency considerations.
	RetryAlways

	// RetryNever causes the client to not perform retries on failed operations.
	RetryNever
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_SignedURLOptions" data-uid="cloud.google.com/go/storage.SignedURLOptions" class="notranslate">SignedURLOptions</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type SignedURLOptions struct {
	// GoogleAccessID represents the authorizer of the signed URL generation.
	// It is typically the Google service account client email address from
	// the Google Developers Console in the form of "xxx@developer.gserviceaccount.com".
	// Required.
	GoogleAccessID <a href="https://pkg.go.dev/builtin#string">string</a>

	// PrivateKey is the Google service account private key. It is obtainable
	// from the Google Developers Console.
	// At https://console.developers.google.com/project/<your-project-id>/apiui/credential,
	// create a service account client ID or reuse one of your existing service account
	// credentials. Click on the "Generate new P12 key" to generate and download
	// a new private key. Once you download the P12 file, use the following command
	// to convert it into a PEM file.
	//
	//    $ openssl pkcs12 -in key.p12 -passin pass:notasecret -out key.pem -nodes
	//
	// Provide the contents of the PEM file as a byte slice.
	// Exactly one of PrivateKey or SignBytes must be non-nil.
	PrivateKey []<a href="https://pkg.go.dev/builtin#byte">byte</a>

	// SignBytes is a function for implementing custom signing. For example, if
	// your application is running on Google App Engine, you can use
	// appengine's internal signing function:
	//     ctx := appengine.NewContext(request)
	//     acc, _ := appengine.ServiceAccount(ctx)
	//     url, err := SignedURL("bucket", "object", &SignedURLOptions{
	//     	GoogleAccessID: acc,
	//     	SignBytes: func(b []byte) ([]byte, error) {
	//     		_, signedBytes, err := appengine.SignBytes(ctx, b)
	//     		return signedBytes, err
	//     	},
	//     	// etc.
	//     })
	//
	// Exactly one of PrivateKey or SignBytes must be non-nil.
	SignBytes func([]<a href="https://pkg.go.dev/builtin#byte">byte</a>) ([]<a href="https://pkg.go.dev/builtin#byte">byte</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)

	// Method is the HTTP method to be used with the signed URL.
	// Signed URLs can be used with GET, HEAD, PUT, and DELETE requests.
	// Required.
	Method <a href="https://pkg.go.dev/builtin#string">string</a>

	// Expires is the expiration time on the signed URL. It must be
	// a datetime in the future. For SigningSchemeV4, the expiration may be no
	// more than seven days in the future.
	// Required.
	Expires <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// ContentType is the content type header the client must provide
	// to use the generated signed URL.
	// Optional.
	ContentType <a href="https://pkg.go.dev/builtin#string">string</a>

	// Headers is a list of extension headers the client must provide
	// in order to use the generated signed URL. Each must be a string of the
	// form "key:values", with multiple values separated by a semicolon.
	// Optional.
	Headers []<a href="https://pkg.go.dev/builtin#string">string</a>

	// QueryParameters is a map of additional query parameters. When
	// SigningScheme is V4, this is used in computing the signature, and the
	// client must use the same query parameters when using the generated signed
	// URL.
	// Optional.
	QueryParameters <a href="https://pkg.go.dev/net/url">url</a>.<a href="https://pkg.go.dev/net/url#Values">Values</a>

	// MD5 is the base64 encoded MD5 checksum of the file.
	// If provided, the client should provide the exact value on the request
	// header in order to use the signed URL.
	// Optional.
	MD5 <a href="https://pkg.go.dev/builtin#string">string</a>

	// Style provides options for the type of URL to use. Options are
	// PathStyle (default), BucketBoundHostname, and VirtualHostedStyle. See
	// https://cloud.google.com/storage/docs/request-endpoints for details.
	// Only supported for V4 signing.
	// Optional.
	Style <a href="#cloud_google_com_go_storage_URLStyle">URLStyle</a>

	// Insecure determines whether the signed URL should use HTTPS (default) or
	// HTTP.
	// Only supported for V4 signing.
	// Optional.
	Insecure <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// Scheme determines the version of URL signing to use. Default is
	// SigningSchemeV2.
	Scheme <a href="#cloud_google_com_go_storage_SigningScheme">SigningScheme</a>

	// Hostname sets the host of the signed URL. This field overrides any
	// endpoint set on a storage Client or through STORAGE_EMULATOR_HOST.
	// Only compatible with PathStyle and VirtualHostedStyle URLStyles.
	// Optional.
	Hostname <a href="https://pkg.go.dev/builtin#string">string</a>
}</your-project-id></code></pre>
        </div>
        <div class="markdown level1 summary"><p>SignedURLOptions allows you to restrict the access to the signed URL.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_SigningScheme" data-uid="cloud.google.com/go/storage.SigningScheme" class="notranslate">SigningScheme</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type SigningScheme <a href="https://pkg.go.dev/builtin#int">int</a></code></pre>
        </div>
        <div class="markdown level1 summary"><p>SigningScheme determines the API version to use when signing URLs.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_SigningSchemeDefault_SigningSchemeV2_SigningSchemeV4" data-uid="cloud.google.com/go/storage.SigningSchemeDefault,SigningSchemeV2,SigningSchemeV4" class="notranslate">SigningSchemeDefault, SigningSchemeV2, SigningSchemeV4</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>const (
	// SigningSchemeDefault is presently V2 and will change to V4 in the future.
	SigningSchemeDefault <a href="#cloud_google_com_go_storage_SigningScheme">SigningScheme</a> = <a href="https://pkg.go.dev/builtin#iota">iota</a>

	// SigningSchemeV2 uses the V2 scheme to sign URLs.
	SigningSchemeV2

	// SigningSchemeV4 uses the V4 scheme to sign URLs.
	SigningSchemeV4
)</code></pre>
            </div>
            <div class="markdown level1 summary"></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_SoftDeletePolicy" data-uid="cloud.google.com/go/storage.SoftDeletePolicy" class="notranslate">SoftDeletePolicy</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type SoftDeletePolicy struct {
	// EffectiveTime indicates the time from which the policy, or one with a
	// greater retention, was effective. This field is read-only.
	EffectiveTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>

	// RetentionDuration is the amount of time that soft-deleted objects in the
	// bucket will be retained and cannot be permanently deleted.
	RetentionDuration <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Duration">Duration</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>SoftDeletePolicy contains the bucket&#39;s soft delete policy, which defines the
period of time that soft-deleted objects will be retained, and cannot be
permanently deleted.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_URLStyle" data-uid="cloud.google.com/go/storage.URLStyle" class="notranslate">URLStyle</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type URLStyle interface {
	// contains filtered or unexported methods
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>URLStyle determines the style to use for the signed URL. PathStyle is the
default. All non-default options work with V4 scheme only. See
<a href="https://cloud.google.com/storage/docs/request-endpoints">https://cloud.google.com/storage/docs/request-endpoints</a> for details.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_URLStyle_BucketBoundHostname" data-uid="cloud.google.com/go/storage.URLStyle.BucketBoundHostname" class="notranslate">func BucketBoundHostname
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func BucketBoundHostname(hostname <a href="https://pkg.go.dev/builtin#string">string</a>) <a href="#cloud_google_com_go_storage_URLStyle">URLStyle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>BucketBoundHostname generates a URL with a custom hostname tied to a
specific GCS bucket. The desired hostname should be passed in using the
hostname argument. Generated urls will be of the form
&quot;<bucket-bound-hostname>/<object-name>&quot;. See
<a href="https://cloud.google.com/storage/docs/request-endpoints#cname">https://cloud.google.com/storage/docs/request-endpoints#cname</a> and
<a href="https://cloud.google.com/load-balancing/docs/https/adding-backend-buckets-to-load-balancers">https://cloud.google.com/load-balancing/docs/https/adding-backend-buckets-to-load-balancers</a>
for details. Note that for CNAMEs, only HTTP is supported, so Insecure must
be set to true.<p>
</object-name></bucket-bound-hostname></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_URLStyle_PathStyle" data-uid="cloud.google.com/go/storage.URLStyle.PathStyle" class="notranslate">func PathStyle
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func PathStyle() <a href="#cloud_google_com_go_storage_URLStyle">URLStyle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>PathStyle is the default style, and will generate a URL of the form
&quot;<host-name>/<bucket-name>/<object-name>&quot;. By default, <host-name> is
storage.googleapis.com, but setting an endpoint on the storage Client or
through STORAGE_EMULATOR_HOST overrides this. Setting Hostname on
SignedURLOptions or PostPolicyV4Options overrides everything else.<p>
</host-name></object-name></bucket-name></host-name></div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_URLStyle_VirtualHostedStyle" data-uid="cloud.google.com/go/storage.URLStyle.VirtualHostedStyle" class="notranslate">func VirtualHostedStyle
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func VirtualHostedStyle() <a href="#cloud_google_com_go_storage_URLStyle">URLStyle</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>VirtualHostedStyle generates a URL relative to the bucket&#39;s virtual
hostname, e.g. &quot;<bucket-name>.storage.googleapis.com/<object-name>&quot;.<p>
</object-name></bucket-name></div>
            <div class="markdown level1 conceptual"></div>
                  <h2 id="cloud_google_com_go_storage_UniformBucketLevelAccess" data-uid="cloud.google.com/go/storage.UniformBucketLevelAccess" class="notranslate">UniformBucketLevelAccess</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type UniformBucketLevelAccess struct {
	// Enabled specifies whether access checks use only bucket-level IAM
	// policies. Enabled may be disabled until the locked time.
	Enabled <a href="https://pkg.go.dev/builtin#bool">bool</a>
	// LockedTime specifies the deadline for changing Enabled from true to
	// false.
	LockedTime <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Time">Time</a>
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>UniformBucketLevelAccess configures access checks to use only bucket-level IAM
policies.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
        <h2 id="cloud_google_com_go_storage_Writer" data-uid="cloud.google.com/go/storage.Writer" class="notranslate">Writer</h2>
        <div class="codewrapper">
          <pre class="prettyprint"><code>type Writer struct {
	// ObjectAttrs are optional attributes to set on the object. Any attributes
	// must be initialized before the first Write call. Nil or zero-valued
	// attributes are ignored.
	<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a>

	// SendCRC32C specifies whether to transmit a CRC32C field. It should be set
	// to true in addition to setting the Writer's CRC32C field, because zero
	// is a valid CRC and normally a zero would not be transmitted.
	// If a CRC32C is sent, and the data written does not match the checksum,
	// the write will be rejected.
	//
	// Note: SendCRC32C must be set to true BEFORE the first call to
	// Writer.Write() in order to send the checksum. If it is set after that
	// point, the checksum will be ignored.
	SendCRC32C <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// ChunkSize controls the maximum number of bytes of the object that the
	// Writer will attempt to send to the server in a single request. Objects
	// smaller than the size will be sent in a single request, while larger
	// objects will be split over multiple requests. The value will be rounded up
	// to the nearest multiple of 256K. The default ChunkSize is 16MiB.
	//
	// Each Writer will internally allocate a buffer of size ChunkSize. This is
	// used to buffer input data and allow for the input to be sent again if a
	// request must be retried.
	//
	// If you upload small objects (< 16mib),="" you="" should="" set="" chunksize="" to="" a="" value="" slightly="" larger="" than="" the="" objects'="" sizes="" to="" avoid="" memory="" bloat.="" this="" is="" especially="" important="" if="" you="" are="" uploading="" many="" small="" objects="" concurrently.="" see="" https://cloud.google.com/storage/docs/json_api/v1/how-tos/upload#size="" for="" more="" information="" about="" performance="" trade-offs="" related="" to="" chunksize.="" if="" chunksize="" is="" set="" to="" zero,="" chunking="" will="" be="" disabled="" and="" the="" object="" will="" be="" uploaded="" in="" a="" single="" request="" without="" the="" use="" of="" a="" buffer.="" this="" will="" further="" reduce="" memory="" used="" during="" uploads,="" but="" will="" also="" prevent="" the="" writer="" from="" retrying="" in="" case="" of="" a="" transient="" error="" from="" the="" server="" or="" resuming="" an="" upload="" that="" fails="" midway="" through,="" since="" the="" buffer="" is="" required="" in="" order="" to="" retry="" the="" failed="" request.="" chunksize="" must="" be="" set="" before="" the="" first="" write="" call.="" chunksize=""><a href="https://pkg.go.dev/builtin#int">int</a>

	// ChunkRetryDeadline sets a per-chunk retry deadline for multi-chunk
	// resumable uploads.
	//
	// For uploads of larger files, the Writer will attempt to retry if the
	// request to upload a particular chunk fails with a transient error.
	// If a single chunk has been attempting to upload for longer than this
	// deadline and the request fails, it will no longer be retried, and the
	// error will be returned to the caller. This is only applicable for files
	// which are large enough to require a multi-chunk resumable upload. The
	// default value is 32s. Users may want to pick a longer deadline if they
	// are using larger values for ChunkSize or if they expect to have a slow or
	// unreliable internet connection.
	//
	// To set a deadline on the entire upload, use context timeout or
	// cancellation.
	ChunkRetryDeadline <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Duration">Duration</a>

	// ChunkTransferTimeout sets a per-chunk request timeout for resumable uploads.
	//
	// For resumable uploads, the Writer will terminate the request and attempt
	// a retry if the request to upload a particular chunk stalls for longer than
	// this duration. Retries may continue until the ChunkRetryDeadline is reached.
	//
	// ChunkTransferTimeout is not applicable to uploads made using a gRPC client.
	//
	// The default value is no timeout.
	ChunkTransferTimeout <a href="https://pkg.go.dev/time">time</a>.<a href="https://pkg.go.dev/time#Duration">Duration</a>

	// ForceEmptyContentType is an optional parameter that is used to disable
	// auto-detection of Content-Type. By default, if a blank Content-Type
	// is provided, then gax.DetermineContentType is called to sniff the type.
	ForceEmptyContentType <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// Append is a parameter to indicate whether the writer should use appendable
	// object semantics for the new object generation. Appendable objects are
	// visible on the first Write() call, and can be appended to until they are
	// finalized. The object is finalized on a call to Close().
	//
	// Append is only supported for gRPC. This feature is in preview and is not
	// yet available for general use.
	Append <a href="https://pkg.go.dev/builtin#bool">bool</a>

	// ProgressFunc can be used to monitor the progress of a large write
	// operation. If ProgressFunc is not nil and writing requires multiple
	// calls to the underlying service (see
	// https://cloud.google.com/storage/docs/json_api/v1/how-tos/resumable-upload),
	// then ProgressFunc will be invoked after each call with the number of bytes of
	// content copied so far.
	//
	// ProgressFunc should return quickly without blocking.
	ProgressFunc func(<a href="https://pkg.go.dev/builtin#int64">int64</a>)
	// contains filtered or unexported fields
}</code></pre>
        </div>
        <div class="markdown level1 summary"><p>A Writer writes a Cloud Storage object.</p>
</div>
        <div class="markdown level1 conceptual"></div>
        
            <h3 id="cloud_google_com_go_storage_Writer_Attrs" data-uid="cloud.google.com/go/storage.Writer.Attrs" class="notranslate">func (*Writer) Attrs
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (w *<a href="#cloud_google_com_go_storage_Writer">Writer</a>) Attrs() *<a href="#cloud_google_com_go_storage_ObjectAttrs">ObjectAttrs</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Attrs returns metadata about a successfully-written object.
It&#39;s only valid to call it after Close returns nil.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Writer_Close" data-uid="cloud.google.com/go/storage.Writer.Close" class="notranslate">func (*Writer) Close
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (w *<a href="#cloud_google_com_go_storage_Writer">Writer</a>) Close() <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>Close completes the write operation and flushes any buffered data.
If Close doesn&#39;t return an error, metadata about the written object
can be retrieved by calling Attrs.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Writer_CloseWithError" data-uid="cloud.google.com/go/storage.Writer.CloseWithError" class="notranslate">func (*Writer) CloseWithError
 (deprecated)</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (w *<a href="#cloud_google_com_go_storage_Writer">Writer</a>) CloseWithError(err <a href="https://pkg.go.dev/builtin#error">error</a>) <a href="https://pkg.go.dev/builtin#error">error</a></code></pre>
            </div>
            <div class="markdown level1 summary"><p>CloseWithError aborts the write operation with the provided error.
CloseWithError always returns nil.</p>
<p>Deprecated: cancel the context passed to NewWriter instead.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Writer_Flush" data-uid="cloud.google.com/go/storage.Writer.Flush" class="notranslate">func (*Writer) Flush
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (w *<a href="#cloud_google_com_go_storage_Writer">Writer</a>) Flush() (<a href="https://pkg.go.dev/builtin#int64">int64</a>, <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Flush syncs all bytes currently in the Writer&#39;s buffer to Cloud Storage.
It returns the offset of bytes that have been currently synced to
Cloud Storage and an error.</p>
<p>If Flush is never called, Writer will sync data automatically every
[Writer.ChunkSize] bytes and on [Writer.Close].</p>
<p>[Writer.ProgressFunc] will be called on Flush if present.</p>
<p>Do not call Flush concurrently with Write or Close. A single Writer is not
safe for unsynchronized use across threads.</p>
<p>Flush is supported only on gRPC clients where [Writer.Append] is set
to true. This feature is in preview and is not yet available for general use.</p>
</div>
            <div class="markdown level1 conceptual"></div>
                      <h3 id="cloud_google_com_go_storage_Writer_Write" data-uid="cloud.google.com/go/storage.Writer.Write" class="notranslate">func (*Writer) Write
</h3>
            <div class="codewrapper">
              <pre class="prettyprint"><code>func (w *<a href="#cloud_google_com_go_storage_Writer">Writer</a>) Write(p []<a href="https://pkg.go.dev/builtin#byte">byte</a>) (n <a href="https://pkg.go.dev/builtin#int">int</a>, err <a href="https://pkg.go.dev/builtin#error">error</a>)</code></pre>
            </div>
            <div class="markdown level1 summary"><p>Write appends to w. It implements the io.Writer interface.</p>
<p>Since writes happen asynchronously, Write may return a nil
error even though the write failed (or will fail). Always
use the error returned from Writer.Close to determine if
the upload was successful.</p>
<p>Writes will be retried on transient errors from the server, unless
Writer.ChunkSize has been set to zero.</p>
</div>
            <div class="markdown level1 conceptual"></div>
              <h4>Examples</h4>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	wc := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewWriter(ctx)
	wc.ContentType = &quot;text/plain&quot;
	wc.ACL = []storage.ACLRule{{Entity: storage.AllUsers, Role: storage.RoleReader}}
	if _, err := wc.Write([]byte(&quot;hello world&quot;)); err != nil {
		// TODO: handle error.
		// Note that Write may return nil in some error situations,
		// so always check the error from Close.
	}
	if err := wc.Close(); err != nil {
		// TODO: handle error.
	}
	fmt.Println(&quot;updated object:&quot;, wc.Attrs())
}
</code></pre>
  </div>
    <h5 class="notranslate">checksum</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;hash/crc32&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	data := []byte(&quot;verify me&quot;)
	wc := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewWriter(ctx)
	wc.CRC32C = crc32.Checksum(data, crc32.MakeTable(crc32.Castagnoli))
	wc.SendCRC32C = true
	if _, err := wc.Write([]byte(&quot;hello world&quot;)); err != nil {
		// TODO: handle error.
		// Note that Write may return nil in some error situations,
		// so always check the error from Close.
	}
	if err := wc.Close(); err != nil {
		// TODO: handle error.
	}
	fmt.Println(&quot;updated object:&quot;, wc.Attrs())
}
</code></pre>
  </div>
    <h5 class="notranslate">timeout</h5>
  <div class="codewrapper">
  <pre class="prettyprint"><code>package main

import (
	&quot;context&quot;
	&quot;fmt&quot;
	&quot;time&quot;

	&quot;cloud.google.com/go/storage&quot;
)

func main() {
	ctx := context.Background()
	client, err := storage.NewClient(ctx)
	if err != nil {
		// TODO: handle error.
	}
	tctx, cancel := context.WithTimeout(ctx, 30*time.Second)
	defer cancel() // Cancel when done, whether we time out or not.
	wc := client.Bucket(&quot;bucketname&quot;).Object(&quot;filename1&quot;).NewWriter(tctx)
	wc.ContentType = &quot;text/plain&quot;
	wc.ACL = []storage.ACLRule{{Entity: storage.AllUsers, Role: storage.RoleReader}}
	if _, err := wc.Write([]byte(&quot;hello world&quot;)); err != nil {
		// TODO: handle error.
		// Note that Write may return nil in some error situations,
		// so always check the error from Close.
	}
	if err := wc.Close(); err != nil {
		// TODO: handle error.
	}
	fmt.Println(&quot;updated object:&quot;, wc.Attrs())
}
</code></pre>
  </div>
</article>
    </div>
    {% endverbatim %}
  </body>
</html>
